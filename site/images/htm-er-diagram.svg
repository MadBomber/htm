<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 900" style="background: transparent;">
  <defs>
    <style>
      .table-box { fill: #1e1e1e; stroke: #4a9eff; stroke-width: 2; }
      .table-header { fill: #2d5a8e; }
      .text-header { fill: #ffffff; font-family: monospace; font-size: 14px; font-weight: bold; }
      .text-field { fill: #d4d4d4; font-family: monospace; font-size: 11px; }
      .text-type { fill: #8cb4e8; font-family: monospace; font-size: 10px; }
      .relation-line { stroke: #4a9eff; stroke-width: 1.5; fill: none; }
      .arrow { fill: #4a9eff; }
      .join-table { fill: #1e3a1e; stroke: #4a9eff; stroke-width: 2; }
    </style>
  </defs>

  <!-- Robots Table -->
  <rect class="table-box" x="50" y="50" width="280" height="140" rx="5"/>
  <rect class="table-header" x="50" y="50" width="280" height="35" rx="5"/>
  <text class="text-header" x="190" y="73" text-anchor="middle">robots</text>

  <text class="text-field" x="60" y="100">id</text>
  <text class="text-type" x="320" y="100" text-anchor="end">BIGSERIAL PK</text>

  <text class="text-field" x="60" y="120">name</text>
  <text class="text-type" x="320" y="120" text-anchor="end">TEXT</text>

  <text class="text-field" x="60" y="140">created_at</text>
  <text class="text-type" x="320" y="140" text-anchor="end">TIMESTAMPTZ</text>

  <text class="text-field" x="60" y="160">last_active</text>
  <text class="text-type" x="320" y="160" text-anchor="end">TIMESTAMPTZ</text>

  <text class="text-field" x="60" y="180">metadata</text>
  <text class="text-type" x="320" y="180" text-anchor="end">JSONB</text>

  <!-- robot_nodes Join Table -->
  <rect class="join-table" x="400" y="50" width="320" height="180" rx="5"/>
  <rect class="table-header" x="400" y="50" width="320" height="35" rx="5"/>
  <text class="text-header" x="560" y="73" text-anchor="middle">robot_nodes</text>

  <text class="text-field" x="410" y="100">id</text>
  <text class="text-type" x="710" y="100" text-anchor="end">BIGSERIAL PK</text>

  <text class="text-field" x="410" y="120">robot_id</text>
  <text class="text-type" x="710" y="120" text-anchor="end">BIGINT FK</text>

  <text class="text-field" x="410" y="140">node_id</text>
  <text class="text-type" x="710" y="140" text-anchor="end">BIGINT FK</text>

  <text class="text-field" x="410" y="160">first_remembered_at</text>
  <text class="text-type" x="710" y="160" text-anchor="end">TIMESTAMPTZ</text>

  <text class="text-field" x="410" y="180">last_remembered_at</text>
  <text class="text-type" x="710" y="180" text-anchor="end">TIMESTAMPTZ</text>

  <text class="text-field" x="410" y="200">remember_count</text>
  <text class="text-type" x="710" y="200" text-anchor="end">INTEGER</text>

  <text class="text-field" x="410" y="220">created_at, updated_at</text>
  <text class="text-type" x="710" y="220" text-anchor="end">TIMESTAMPTZ</text>

  <!-- Nodes Table -->
  <rect class="table-box" x="50" y="280" width="280" height="280" rx="5"/>
  <rect class="table-header" x="50" y="280" width="280" height="35" rx="5"/>
  <text class="text-header" x="190" y="303" text-anchor="middle">nodes</text>

  <text class="text-field" x="60" y="330">id</text>
  <text class="text-type" x="320" y="330" text-anchor="end">BIGSERIAL PK</text>

  <text class="text-field" x="60" y="350">content</text>
  <text class="text-type" x="320" y="350" text-anchor="end">TEXT NOT NULL</text>

  <text class="text-field" x="60" y="370">content_hash</text>
  <text class="text-type" x="320" y="370" text-anchor="end">VARCHAR(64) UNIQUE</text>

  <text class="text-field" x="60" y="390">access_count</text>
  <text class="text-type" x="320" y="390" text-anchor="end">INTEGER</text>

  <text class="text-field" x="60" y="410">created_at</text>
  <text class="text-type" x="320" y="410" text-anchor="end">TIMESTAMPTZ</text>

  <text class="text-field" x="60" y="430">updated_at</text>
  <text class="text-type" x="320" y="430" text-anchor="end">TIMESTAMPTZ</text>

  <text class="text-field" x="60" y="450">last_accessed</text>
  <text class="text-type" x="320" y="450" text-anchor="end">TIMESTAMPTZ</text>

  <text class="text-field" x="60" y="470">token_count</text>
  <text class="text-type" x="320" y="470" text-anchor="end">INTEGER</text>

  <text class="text-field" x="60" y="490">in_working_memory</text>
  <text class="text-type" x="320" y="490" text-anchor="end">BOOLEAN</text>

  <text class="text-field" x="60" y="510">embedding</text>
  <text class="text-type" x="320" y="510" text-anchor="end">vector(2000)</text>

  <text class="text-field" x="60" y="530">embedding_dimension</text>
  <text class="text-type" x="320" y="530" text-anchor="end">INTEGER</text>

  <!-- Tags Table -->
  <rect class="table-box" x="850" y="280" width="280" height="120" rx="5"/>
  <rect class="table-header" x="850" y="280" width="280" height="35" rx="5"/>
  <text class="text-header" x="990" y="303" text-anchor="middle">tags</text>

  <text class="text-field" x="860" y="330">id</text>
  <text class="text-type" x="1120" y="330" text-anchor="end">BIGSERIAL PK</text>

  <text class="text-field" x="860" y="350">name</text>
  <text class="text-type" x="1120" y="350" text-anchor="end">TEXT UNIQUE</text>

  <text class="text-field" x="860" y="370">created_at</text>
  <text class="text-type" x="1120" y="370" text-anchor="end">TIMESTAMPTZ</text>

  <!-- node_tags Join Table -->
  <rect class="join-table" x="450" y="420" width="280" height="140" rx="5"/>
  <rect class="table-header" x="450" y="420" width="280" height="35" rx="5"/>
  <text class="text-header" x="590" y="443" text-anchor="middle">node_tags</text>

  <text class="text-field" x="460" y="470">id</text>
  <text class="text-type" x="720" y="470" text-anchor="end">BIGSERIAL PK</text>

  <text class="text-field" x="460" y="490">node_id</text>
  <text class="text-type" x="720" y="490" text-anchor="end">BIGINT FK</text>

  <text class="text-field" x="460" y="510">tag_id</text>
  <text class="text-type" x="720" y="510" text-anchor="end">BIGINT FK</text>

  <text class="text-field" x="460" y="530">created_at</text>
  <text class="text-type" x="720" y="530" text-anchor="end">TIMESTAMPTZ</text>

  <!-- Relationships: robots -> robot_nodes -->
  <path class="relation-line" d="M 330 120 L 400 120"/>
  <polygon class="arrow" points="400,120 390,115 390,125"/>

  <!-- Relationships: robot_nodes -> nodes -->
  <path class="relation-line" d="M 560 230 L 560 280 L 330 280 L 330 330"/>
  <polygon class="arrow" points="330,280 325,290 335,290"/>

  <!-- Relationships: nodes -> node_tags -->
  <path class="relation-line" d="M 330 490 L 450 490"/>
  <polygon class="arrow" points="450,490 440,485 440,495"/>

  <!-- Relationships: tags -> node_tags -->
  <path class="relation-line" d="M 850 350 L 730 350 L 730 510"/>
  <polygon class="arrow" points="730,510 725,500 735,500"/>

  <!-- Legend -->
  <text class="text-field" x="50" y="620" font-weight="bold">Legend:</text>
  <text class="text-field" x="50" y="640">PK = Primary Key</text>
  <text class="text-field" x="200" y="640">FK = Foreign Key</text>
  <text class="text-field" x="350" y="640">Green box = Join table (many-to-many)</text>

  <!-- Annotations -->
  <text class="text-field" x="350" y="110" font-style="italic">N:M</text>
  <text class="text-field" x="380" y="480" font-style="italic">N:M</text>
  <text class="text-field" x="770" y="430" font-style="italic">N:M</text>
</svg>
