<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.1.2 (20240928.0832)
 -->
<!-- Title: public.robots Pages: 1 -->
<svg width="1967pt" height="986pt"
 viewBox="0.00 0.00 1966.56 986.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 982.4)">
<title>public.robots</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-982.4 1962.56,-982.4 1962.56,4 -4,4"/>
<!-- public.robots -->
<g id="node1" class="node">
<title>public.robots</title>
<polygon fill="#efefef" stroke="none" points="412.28,-320.4 412.28,-366.4 916.49,-366.4 916.49,-320.4 412.28,-320.4"/>
<polygon fill="none" stroke="black" points="412.28,-320.4 412.28,-366.4 916.49,-366.4 916.49,-320.4 412.28,-320.4"/>
<text text-anchor="start" x="554.89" y="-344.2" font-family="Arial Bold" font-size="18.00">public.robots</text>
<text text-anchor="start" x="649.38" y="-344.2" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="680.5" y="-344.2" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="513.44" y="-329.8" font-family="Arial" font-size="14.00" fill="#333333">Registry of all LLM robots using the HTM system</text>
<polygon fill="none" stroke="black" points="412.28,-289.6 412.28,-320.4 916.49,-320.4 916.49,-289.6 412.28,-289.6"/>
<text text-anchor="start" x="419.28" y="-301.8" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="489.33" y="-301.8" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="655.05" y="-301.8" font-family="Arial" font-size="14.00"> When the robot was first registered</text>
<polygon fill="none" stroke="black" points="412.28,-258.8 412.28,-289.6 916.49,-289.6 916.49,-258.8 412.28,-258.8"/>
<text text-anchor="start" x="419.28" y="-271" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="434.06" y="-271" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="412.28,-228 412.28,-258.8 916.49,-258.8 916.49,-228 412.28,-228"/>
<text text-anchor="start" x="419.28" y="-240.2" font-family="Arial" font-size="14.00">last_active </text>
<text text-anchor="start" x="489.31" y="-240.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="655.04" y="-240.2" font-family="Arial" font-size="14.00"> Last time the robot accessed the system</text>
<polygon fill="none" stroke="black" points="412.28,-197.2 412.28,-228 916.49,-228 916.49,-197.2 412.28,-197.2"/>
<text text-anchor="start" x="419.28" y="-209.4" font-family="Arial" font-size="14.00">name </text>
<text text-anchor="start" x="458.19" y="-209.4" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="488.53" y="-209.4" font-family="Arial" font-size="14.00"> Human&#45;readable name for the robot</text>
<polygon fill="none" stroke="black" stroke-width="3" points="410.78,-195.7 410.78,-367.9 917.99,-367.9 917.99,-195.7 410.78,-195.7"/>
</g>
<!-- public.robot_nodes -->
<g id="node2" class="node">
<title>public.robot_nodes</title>
<polygon fill="#efefef" stroke="none" points="355.64,-889.2 355.64,-935.2 985.13,-935.2 985.13,-889.2 355.64,-889.2"/>
<polygon fill="none" stroke="black" points="355.64,-889.2 355.64,-935.2 985.13,-935.2 985.13,-889.2 355.64,-889.2"/>
<text text-anchor="start" x="538.9" y="-913" font-family="Arial Bold" font-size="18.00">public.robot_nodes</text>
<text text-anchor="start" x="677.38" y="-913" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="708.5" y="-913" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="503.07" y="-898.6" font-family="Arial" font-size="14.00" fill="#333333">Join table connecting robots to nodes (many&#45;to&#45;many)</text>
<polygon fill="none" stroke="black" points="355.64,-858.4 355.64,-889.2 985.13,-889.2 985.13,-858.4 355.64,-858.4"/>
<text text-anchor="start" x="362.64" y="-870.6" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="432.69" y="-870.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<polygon fill="none" stroke="black" points="355.64,-827.6 355.64,-858.4 985.13,-858.4 985.13,-827.6 355.64,-827.6"/>
<text text-anchor="start" x="362.64" y="-839.8" font-family="Arial" font-size="14.00">first_remembered_at </text>
<text text-anchor="start" x="495.69" y="-839.8" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="661.42" y="-839.8" font-family="Arial" font-size="14.00"> When this robot first remembered this content</text>
<polygon fill="none" stroke="black" points="355.64,-796.8 355.64,-827.6 985.13,-827.6 985.13,-796.8 355.64,-796.8"/>
<text text-anchor="start" x="362.64" y="-809" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="377.43" y="-809" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="355.64,-766 355.64,-796.8 985.13,-796.8 985.13,-766 355.64,-766"/>
<text text-anchor="start" x="362.64" y="-778.2" font-family="Arial" font-size="14.00">last_remembered_at </text>
<text text-anchor="start" x="494.93" y="-778.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="660.65" y="-778.2" font-family="Arial" font-size="14.00"> When this robot last tried to remember this content</text>
<polygon fill="none" stroke="black" points="355.64,-735.2 355.64,-766 985.13,-766 985.13,-735.2 355.64,-735.2"/>
<text text-anchor="start" x="362.64" y="-747.4" font-family="Arial" font-size="14.00">node_id </text>
<text text-anchor="start" x="416.36" y="-747.4" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="457.6" y="-747.4" font-family="Arial" font-size="14.00"> ID of the node being remembered</text>
<polygon fill="none" stroke="black" points="355.64,-704.4 355.64,-735.2 985.13,-735.2 985.13,-704.4 355.64,-704.4"/>
<text text-anchor="start" x="362.64" y="-716.6" font-family="Arial" font-size="14.00">remember_count </text>
<text text-anchor="start" x="472.36" y="-716.6" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="522.94" y="-716.6" font-family="Arial" font-size="14.00"> Number of times this robot has tried to remember this content</text>
<polygon fill="none" stroke="black" points="355.64,-673.6 355.64,-704.4 985.13,-704.4 985.13,-673.6 355.64,-673.6"/>
<text text-anchor="start" x="362.64" y="-685.8" font-family="Arial" font-size="14.00">robot_id </text>
<text text-anchor="start" x="417.12" y="-685.8" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="458.37" y="-685.8" font-family="Arial" font-size="14.00"> ID of the robot that remembered this node</text>
<polygon fill="none" stroke="black" points="355.64,-642.8 355.64,-673.6 985.13,-673.6 985.13,-642.8 355.64,-642.8"/>
<text text-anchor="start" x="362.64" y="-655" font-family="Arial" font-size="14.00">updated_at </text>
<text text-anchor="start" x="436.6" y="-655" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
</g>
<!-- public.robot_nodes&#45;&gt;public.robots -->
<g id="edge1" class="edge">
<title>public.robot_nodes:robot_id&#45;&gt;public.robots:id</title>
<path fill="none" stroke="black" d="M344.58,-687.44C318.35,-678.05 334.51,-628.57 355.64,-599.6 510.46,-387.3 762.09,-625.21 916.49,-412.6 952.63,-362.83 979,-274.2 917.49,-274.2"/>
<polygon fill="black" stroke="black" points="344.43,-687.41 353.62,-693.4 349.7,-688.23 353.98,-688.9 353.98,-688.9 353.98,-688.9 349.7,-688.23 355,-684.5 344.43,-687.41"/>
<text text-anchor="start" x="7" y="-699" font-family="Arial" font-size="10.00">FOREIGN KEY (robot_id) REFERENCES robots(id) ON DELETE CASCADE</text>
</g>
<!-- public.nodes -->
<g id="node3" class="node">
<title>public.nodes</title>
<polygon fill="#efefef" stroke="none" points="1024.36,-474.4 1024.36,-520.4 1680.4,-520.4 1680.4,-474.4 1024.36,-474.4"/>
<polygon fill="none" stroke="black" points="1024.36,-474.4 1024.36,-520.4 1680.4,-520.4 1680.4,-474.4 1024.36,-474.4"/>
<text text-anchor="start" x="1244.4" y="-498.2" font-family="Arial Bold" font-size="18.00">public.nodes</text>
<text text-anchor="start" x="1335.88" y="-498.2" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="1367" y="-498.2" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="1160.96" y="-483.8" font-family="Arial" font-size="14.00" fill="#333333">Core memory storage for conversation messages and context</text>
<polygon fill="none" stroke="black" points="1024.36,-443.6 1024.36,-474.4 1680.4,-474.4 1680.4,-443.6 1024.36,-443.6"/>
<text text-anchor="start" x="1031.36" y="-455.8" font-family="Arial" font-size="14.00">access_count </text>
<text text-anchor="start" x="1120.86" y="-455.8" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="1171.45" y="-455.8" font-family="Arial" font-size="14.00"> Number of times this node has been accessed/retrieved</text>
<polygon fill="none" stroke="black" points="1024.36,-412.8 1024.36,-443.6 1680.4,-443.6 1680.4,-412.8 1024.36,-412.8"/>
<text text-anchor="start" x="1031.36" y="-425" font-family="Arial" font-size="14.00">chunk_position </text>
<text text-anchor="start" x="1128.65" y="-425" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="1179.24" y="-425" font-family="Arial" font-size="14.00"> Position within source file (0&#45;indexed)</text>
<polygon fill="none" stroke="black" points="1024.36,-382 1024.36,-412.8 1680.4,-412.8 1680.4,-382 1024.36,-382"/>
<text text-anchor="start" x="1031.36" y="-394.2" font-family="Arial" font-size="14.00">content </text>
<text text-anchor="start" x="1081.18" y="-394.2" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="1111.52" y="-394.2" font-family="Arial" font-size="14.00"> The conversation message/utterance content</text>
<polygon fill="none" stroke="black" points="1024.36,-351.2 1024.36,-382 1680.4,-382 1680.4,-351.2 1024.36,-351.2"/>
<text text-anchor="start" x="1031.36" y="-363.4" font-family="Arial" font-size="14.00">content_hash </text>
<text text-anchor="start" x="1119.32" y="-363.4" font-family="Arial" font-size="14.00" fill="#666666">[varchar(64)]</text>
<text text-anchor="start" x="1198.68" y="-363.4" font-family="Arial" font-size="14.00"> SHA&#45;256 hash of content for deduplication</text>
<polygon fill="none" stroke="black" points="1024.36,-320.4 1024.36,-351.2 1680.4,-351.2 1680.4,-320.4 1024.36,-320.4"/>
<text text-anchor="start" x="1031.36" y="-332.6" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="1101.41" y="-332.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1267.14" y="-332.6" font-family="Arial" font-size="14.00"> When this memory was created</text>
<polygon fill="none" stroke="black" points="1024.36,-289.6 1024.36,-320.4 1680.4,-320.4 1680.4,-289.6 1024.36,-289.6"/>
<text text-anchor="start" x="1031.36" y="-301.8" font-family="Arial" font-size="14.00">deleted_at </text>
<text text-anchor="start" x="1100.65" y="-301.8" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1266.37" y="-301.8" font-family="Arial" font-size="14.00"> Soft delete timestamp &#45; node is considered deleted when set</text>
<polygon fill="none" stroke="black" points="1024.36,-258.8 1024.36,-289.6 1680.4,-289.6 1680.4,-258.8 1024.36,-258.8"/>
<text text-anchor="start" x="1031.36" y="-271" font-family="Arial" font-size="14.00">embedding </text>
<text text-anchor="start" x="1104.53" y="-271" font-family="Arial" font-size="14.00" fill="#666666">[vector(2000)]</text>
<text text-anchor="start" x="1190.9" y="-271" font-family="Arial" font-size="14.00"> Vector embedding (max 2000 dimensions) for semantic search</text>
<polygon fill="none" stroke="black" points="1024.36,-228 1024.36,-258.8 1680.4,-258.8 1680.4,-228 1024.36,-228"/>
<text text-anchor="start" x="1031.36" y="-240.2" font-family="Arial" font-size="14.00">embedding_dimension </text>
<text text-anchor="start" x="1176.13" y="-240.2" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="1226.71" y="-240.2" font-family="Arial" font-size="14.00"> Actual number of dimensions used in the embedding vector (max 2000)</text>
<polygon fill="none" stroke="black" points="1024.36,-197.2 1024.36,-228 1680.4,-228 1680.4,-197.2 1024.36,-197.2"/>
<text text-anchor="start" x="1031.36" y="-209.4" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="1046.15" y="-209.4" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="1024.36,-166.4 1024.36,-197.2 1680.4,-197.2 1680.4,-166.4 1024.36,-166.4"/>
<text text-anchor="start" x="1031.36" y="-178.6" font-family="Arial" font-size="14.00">last_accessed </text>
<text text-anchor="start" x="1123.97" y="-178.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1289.69" y="-178.6" font-family="Arial" font-size="14.00"> When this memory was last accessed</text>
<polygon fill="none" stroke="black" points="1024.36,-135.6 1024.36,-166.4 1680.4,-166.4 1680.4,-135.6 1024.36,-135.6"/>
<text text-anchor="start" x="1031.36" y="-147.8" font-family="Arial" font-size="14.00">metadata </text>
<text text-anchor="start" x="1093.63" y="-147.8" font-family="Arial" font-size="14.00" fill="#666666">[jsonb]</text>
<text text-anchor="start" x="1134.87" y="-147.8" font-family="Arial" font-size="14.00"> Flexible metadata storage (memory_type, importance, source, etc.)</text>
<polygon fill="none" stroke="black" points="1024.36,-104.8 1024.36,-135.6 1680.4,-135.6 1680.4,-104.8 1024.36,-104.8"/>
<text text-anchor="start" x="1031.36" y="-117" font-family="Arial" font-size="14.00">source_id </text>
<text text-anchor="start" x="1095.96" y="-117" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="1137.21" y="-117" font-family="Arial" font-size="14.00"> Reference to source file (for file&#45;loaded nodes)</text>
<polygon fill="none" stroke="black" points="1024.36,-74 1024.36,-104.8 1680.4,-104.8 1680.4,-74 1024.36,-74"/>
<text text-anchor="start" x="1031.36" y="-86.2" font-family="Arial" font-size="14.00">token_count </text>
<text text-anchor="start" x="1111.54" y="-86.2" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="1162.12" y="-86.2" font-family="Arial" font-size="14.00"> Number of tokens in the content (for context budget management)</text>
<polygon fill="none" stroke="black" points="1024.36,-43.2 1024.36,-74 1680.4,-74 1680.4,-43.2 1024.36,-43.2"/>
<text text-anchor="start" x="1031.36" y="-55.4" font-family="Arial" font-size="14.00">updated_at </text>
<text text-anchor="start" x="1105.32" y="-55.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1271.05" y="-55.4" font-family="Arial" font-size="14.00"> When this memory was last modified</text>
</g>
<!-- public.robot_nodes&#45;&gt;public.nodes -->
<g id="edge2" class="edge">
<title>public.robot_nodes:node_id&#45;&gt;public.nodes:id</title>
<path fill="none" stroke="black" d="M996.44,-749.06C1093.63,-717.5 907.27,-212.6 1023.36,-212.6"/>
<polygon fill="black" stroke="black" points="996.35,-749.07 985.79,-746.1 991.07,-749.86 986.79,-750.5 986.79,-750.5 986.79,-750.5 991.07,-749.86 987.12,-755 996.35,-749.07"/>
<text text-anchor="start" x="993.13" y="-760.6" font-family="Arial" font-size="10.00">FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE</text>
</g>
<!-- public.working_memories -->
<g id="node4" class="node">
<title>public.working_memories</title>
<polygon fill="#efefef" stroke="none" points="1092.76,-843 1092.76,-889 1604.01,-889 1604.01,-843 1092.76,-843"/>
<polygon fill="none" stroke="black" points="1092.76,-843 1092.76,-889 1604.01,-889 1604.01,-843 1092.76,-843"/>
<text text-anchor="start" x="1191.41" y="-866.8" font-family="Arial Bold" font-size="18.00">public.working_memories</text>
<text text-anchor="start" x="1380.87" y="-866.8" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="1411.99" y="-866.8" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="1179.93" y="-852.4" font-family="Arial" font-size="14.00" fill="#333333">Per&#45;robot working memory state (optional persistence)</text>
<polygon fill="none" stroke="black" points="1092.76,-812.2 1092.76,-843 1604.01,-843 1604.01,-812.2 1092.76,-812.2"/>
<text text-anchor="start" x="1099.76" y="-824.4" font-family="Arial" font-size="14.00">added_at </text>
<text text-anchor="start" x="1162.04" y="-824.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1327.76" y="-824.4" font-family="Arial" font-size="14.00"> When node was added to working memory</text>
<polygon fill="none" stroke="black" points="1092.76,-781.4 1092.76,-812.2 1604.01,-812.2 1604.01,-781.4 1092.76,-781.4"/>
<text text-anchor="start" x="1099.76" y="-793.6" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="1114.54" y="-793.6" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="1092.76,-750.6 1092.76,-781.4 1604.01,-781.4 1604.01,-750.6 1092.76,-750.6"/>
<text text-anchor="start" x="1099.76" y="-762.8" font-family="Arial" font-size="14.00">node_id </text>
<text text-anchor="start" x="1153.47" y="-762.8" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="1194.72" y="-762.8" font-family="Arial" font-size="14.00"> Node currently in working memory</text>
<polygon fill="none" stroke="black" points="1092.76,-719.8 1092.76,-750.6 1604.01,-750.6 1604.01,-719.8 1092.76,-719.8"/>
<text text-anchor="start" x="1099.76" y="-732" font-family="Arial" font-size="14.00">robot_id </text>
<text text-anchor="start" x="1154.24" y="-732" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="1195.49" y="-732" font-family="Arial" font-size="14.00"> Robot whose working memory this belongs to</text>
<polygon fill="none" stroke="black" points="1092.76,-689 1092.76,-719.8 1604.01,-719.8 1604.01,-689 1092.76,-689"/>
<text text-anchor="start" x="1099.76" y="-701.2" font-family="Arial" font-size="14.00">token_count </text>
<text text-anchor="start" x="1179.93" y="-701.2" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="1230.51" y="-701.2" font-family="Arial" font-size="14.00"> Cached token count for budget tracking</text>
</g>
<!-- public.working_memories&#45;&gt;public.robots -->
<g id="edge3" class="edge">
<title>public.working_memories:robot_id&#45;&gt;public.robots:id</title>
<path fill="none" stroke="black" d="M1081.52,-734.33C1032.77,-725.15 1077.84,-645.43 1037.38,-599.6 1015.53,-574.84 991.74,-590.36 972.38,-563.6 934.02,-510.56 982.95,-274.2 917.49,-274.2"/>
<polygon fill="black" stroke="black" points="1081.46,-734.32 1091.04,-739.66 1086.77,-734.78 1091.09,-735.14 1091.09,-735.14 1091.09,-735.14 1086.77,-734.78 1091.8,-730.69 1081.46,-734.32"/>
<text text-anchor="start" x="1098.76" y="-719.2" font-family="Arial" font-size="10.00">FOREIGN KEY (robot_id) REFERENCES robots(id) ON DELETE CASCADE</text>
</g>
<!-- public.working_memories&#45;&gt;public.nodes -->
<g id="edge4" class="edge">
<title>public.working_memories:node_id&#45;&gt;public.nodes:id</title>
<path fill="none" stroke="black" d="M1615.22,-764.86C1655.65,-754.95 1636.73,-683.17 1604.01,-645.8 1432.61,-450.03 1195.23,-759.84 1024.36,-563.6 973.14,-504.77 945.36,-212.6 1023.36,-212.6"/>
<polygon fill="black" stroke="black" points="1615.28,-764.85 1604.84,-761.49 1609.98,-765.44 1605.67,-765.93 1605.67,-765.93 1605.67,-765.93 1609.98,-765.44 1605.84,-770.43 1615.28,-764.85"/>
<text text-anchor="start" x="1612.01" y="-776" font-family="Arial" font-size="10.00">FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE</text>
</g>
</g>
</svg>
