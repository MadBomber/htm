<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.1.2 (20240928.0832)
 -->
<!-- Title: public.file_sources Pages: 1 -->
<svg width="1914pt" height="1438pt"
 viewBox="0.00 0.00 1913.63 1438.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1434)">
<title>public.file_sources</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1434 1909.63,-1434 1909.63,4 -4,4"/>
<!-- public.file_sources -->
<g id="node1" class="node">
<title>public.file_sources</title>
<polygon fill="#efefef" stroke="none" points="685.93,-323.4 685.93,-369.4 1177.68,-369.4 1177.68,-323.4 685.93,-323.4"/>
<polygon fill="none" stroke="black" points="685.93,-323.4 685.93,-369.4 1177.68,-369.4 1177.68,-323.4 685.93,-323.4"/>
<text text-anchor="start" x="801.33" y="-347.2" font-family="Arial Bold" font-size="18.00">public.file_sources</text>
<text text-anchor="start" x="937.79" y="-347.2" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="968.91" y="-347.2" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="798.34" y="-332.8" font-family="Arial" font-size="14.00" fill="#333333">Source file metadata for loaded documents</text>
<polygon fill="none" stroke="black" points="685.93,-292.6 685.93,-323.4 1177.68,-323.4 1177.68,-292.6 685.93,-292.6"/>
<text text-anchor="start" x="692.93" y="-304.8" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="762.98" y="-304.8" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<polygon fill="none" stroke="black" points="685.93,-261.8 685.93,-292.6 1177.68,-292.6 1177.68,-261.8 685.93,-261.8"/>
<text text-anchor="start" x="692.93" y="-274" font-family="Arial" font-size="14.00">file_hash </text>
<text text-anchor="start" x="752.87" y="-274" font-family="Arial" font-size="14.00" fill="#666666">[varchar(64)]</text>
<text text-anchor="start" x="832.22" y="-274" font-family="Arial" font-size="14.00"> SHA&#45;256 hash of file content</text>
<polygon fill="none" stroke="black" points="685.93,-231 685.93,-261.8 1177.68,-261.8 1177.68,-231 685.93,-231"/>
<text text-anchor="start" x="692.93" y="-243.2" font-family="Arial" font-size="14.00">file_path </text>
<text text-anchor="start" x="749.75" y="-243.2" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="780.1" y="-243.2" font-family="Arial" font-size="14.00"> Absolute path to source file</text>
<polygon fill="none" stroke="black" points="685.93,-200.2 685.93,-231 1177.68,-231 1177.68,-200.2 685.93,-200.2"/>
<text text-anchor="start" x="692.93" y="-212.4" font-family="Arial" font-size="14.00">file_size </text>
<text text-anchor="start" x="747.4" y="-212.4" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="797.99" y="-212.4" font-family="Arial" font-size="14.00"> File size in bytes</text>
<polygon fill="none" stroke="black" points="685.93,-169.4 685.93,-200.2 1177.68,-200.2 1177.68,-169.4 685.93,-169.4"/>
<text text-anchor="start" x="692.93" y="-181.6" font-family="Arial" font-size="14.00">frontmatter </text>
<text text-anchor="start" x="764.51" y="-181.6" font-family="Arial" font-size="14.00" fill="#666666">[jsonb]</text>
<text text-anchor="start" x="805.76" y="-181.6" font-family="Arial" font-size="14.00"> Parsed YAML frontmatter</text>
<polygon fill="none" stroke="black" points="685.93,-138.6 685.93,-169.4 1177.68,-169.4 1177.68,-138.6 685.93,-138.6"/>
<text text-anchor="start" x="692.93" y="-150.8" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="707.72" y="-150.8" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="685.93,-107.8 685.93,-138.6 1177.68,-138.6 1177.68,-107.8 685.93,-107.8"/>
<text text-anchor="start" x="692.93" y="-120" font-family="Arial" font-size="14.00">last_synced_at </text>
<text text-anchor="start" x="790.22" y="-120" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="955.94" y="-120" font-family="Arial" font-size="14.00"> When file was last synced to HTM</text>
<polygon fill="none" stroke="black" points="685.93,-77 685.93,-107.8 1177.68,-107.8 1177.68,-77 685.93,-77"/>
<text text-anchor="start" x="692.93" y="-89.2" font-family="Arial" font-size="14.00">mtime </text>
<text text-anchor="start" x="734.93" y="-89.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="900.66" y="-89.2" font-family="Arial" font-size="14.00"> File modification time</text>
<polygon fill="none" stroke="black" points="685.93,-46.2 685.93,-77 1177.68,-77 1177.68,-46.2 685.93,-46.2"/>
<text text-anchor="start" x="692.93" y="-58.4" font-family="Arial" font-size="14.00">updated_at </text>
<text text-anchor="start" x="766.89" y="-58.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<polygon fill="none" stroke="black" stroke-width="3" points="684.43,-44.7 684.43,-370.9 1179.18,-370.9 1179.18,-44.7 684.43,-44.7"/>
</g>
<!-- public.nodes -->
<g id="node2" class="node">
<title>public.nodes</title>
<polygon fill="#efefef" stroke="none" points="603.79,-926 603.79,-972 1259.83,-972 1259.83,-926 603.79,-926"/>
<polygon fill="none" stroke="black" points="603.79,-926 603.79,-972 1259.83,-972 1259.83,-926 603.79,-926"/>
<text text-anchor="start" x="823.82" y="-949.8" font-family="Arial Bold" font-size="18.00">public.nodes</text>
<text text-anchor="start" x="915.3" y="-949.8" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="946.42" y="-949.8" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="740.38" y="-935.4" font-family="Arial" font-size="14.00" fill="#333333">Core memory storage for conversation messages and context</text>
<polygon fill="none" stroke="black" points="603.79,-895.2 603.79,-926 1259.83,-926 1259.83,-895.2 603.79,-895.2"/>
<text text-anchor="start" x="610.79" y="-907.4" font-family="Arial" font-size="14.00">access_count </text>
<text text-anchor="start" x="700.28" y="-907.4" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="750.87" y="-907.4" font-family="Arial" font-size="14.00"> Number of times this node has been accessed/retrieved</text>
<polygon fill="none" stroke="black" points="603.79,-864.4 603.79,-895.2 1259.83,-895.2 1259.83,-864.4 603.79,-864.4"/>
<text text-anchor="start" x="610.79" y="-876.6" font-family="Arial" font-size="14.00">chunk_position </text>
<text text-anchor="start" x="708.08" y="-876.6" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="758.66" y="-876.6" font-family="Arial" font-size="14.00"> Position within source file (0&#45;indexed)</text>
<polygon fill="none" stroke="black" points="603.79,-833.6 603.79,-864.4 1259.83,-864.4 1259.83,-833.6 603.79,-833.6"/>
<text text-anchor="start" x="610.79" y="-845.8" font-family="Arial" font-size="14.00">content </text>
<text text-anchor="start" x="660.6" y="-845.8" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="690.95" y="-845.8" font-family="Arial" font-size="14.00"> The conversation message/utterance content</text>
<polygon fill="none" stroke="black" points="603.79,-802.8 603.79,-833.6 1259.83,-833.6 1259.83,-802.8 603.79,-802.8"/>
<text text-anchor="start" x="610.79" y="-815" font-family="Arial" font-size="14.00">content_hash </text>
<text text-anchor="start" x="698.74" y="-815" font-family="Arial" font-size="14.00" fill="#666666">[varchar(64)]</text>
<text text-anchor="start" x="778.1" y="-815" font-family="Arial" font-size="14.00"> SHA&#45;256 hash of content for deduplication</text>
<polygon fill="none" stroke="black" points="603.79,-772 603.79,-802.8 1259.83,-802.8 1259.83,-772 603.79,-772"/>
<text text-anchor="start" x="610.79" y="-784.2" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="680.83" y="-784.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="846.56" y="-784.2" font-family="Arial" font-size="14.00"> When this memory was created</text>
<polygon fill="none" stroke="black" points="603.79,-741.2 603.79,-772 1259.83,-772 1259.83,-741.2 603.79,-741.2"/>
<text text-anchor="start" x="610.79" y="-753.4" font-family="Arial" font-size="14.00">deleted_at </text>
<text text-anchor="start" x="680.07" y="-753.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="845.79" y="-753.4" font-family="Arial" font-size="14.00"> Soft delete timestamp &#45; node is considered deleted when set</text>
<polygon fill="none" stroke="black" points="603.79,-710.4 603.79,-741.2 1259.83,-741.2 1259.83,-710.4 603.79,-710.4"/>
<text text-anchor="start" x="610.79" y="-722.6" font-family="Arial" font-size="14.00">embedding </text>
<text text-anchor="start" x="683.95" y="-722.6" font-family="Arial" font-size="14.00" fill="#666666">[vector(2000)]</text>
<text text-anchor="start" x="770.32" y="-722.6" font-family="Arial" font-size="14.00"> Vector embedding (max 2000 dimensions) for semantic search</text>
<polygon fill="none" stroke="black" points="603.79,-679.6 603.79,-710.4 1259.83,-710.4 1259.83,-679.6 603.79,-679.6"/>
<text text-anchor="start" x="610.79" y="-691.8" font-family="Arial" font-size="14.00">embedding_dimension </text>
<text text-anchor="start" x="755.55" y="-691.8" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="806.14" y="-691.8" font-family="Arial" font-size="14.00"> Actual number of dimensions used in the embedding vector (max 2000)</text>
<polygon fill="none" stroke="black" points="603.79,-648.8 603.79,-679.6 1259.83,-679.6 1259.83,-648.8 603.79,-648.8"/>
<text text-anchor="start" x="610.79" y="-661" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="625.57" y="-661" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="603.79,-618 603.79,-648.8 1259.83,-648.8 1259.83,-618 603.79,-618"/>
<text text-anchor="start" x="610.79" y="-630.2" font-family="Arial" font-size="14.00">last_accessed </text>
<text text-anchor="start" x="703.39" y="-630.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="869.12" y="-630.2" font-family="Arial" font-size="14.00"> When this memory was last accessed</text>
<polygon fill="none" stroke="black" points="603.79,-587.2 603.79,-618 1259.83,-618 1259.83,-587.2 603.79,-587.2"/>
<text text-anchor="start" x="610.79" y="-599.4" font-family="Arial" font-size="14.00">metadata </text>
<text text-anchor="start" x="673.05" y="-599.4" font-family="Arial" font-size="14.00" fill="#666666">[jsonb]</text>
<text text-anchor="start" x="714.3" y="-599.4" font-family="Arial" font-size="14.00"> Flexible metadata storage (memory_type, importance, source, etc.)</text>
<polygon fill="none" stroke="black" points="603.79,-556.4 603.79,-587.2 1259.83,-587.2 1259.83,-556.4 603.79,-556.4"/>
<text text-anchor="start" x="610.79" y="-568.6" font-family="Arial" font-size="14.00">source_id </text>
<text text-anchor="start" x="675.38" y="-568.6" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="716.63" y="-568.6" font-family="Arial" font-size="14.00"> Reference to source file (for file&#45;loaded nodes)</text>
<polygon fill="none" stroke="black" points="603.79,-525.6 603.79,-556.4 1259.83,-556.4 1259.83,-525.6 603.79,-525.6"/>
<text text-anchor="start" x="610.79" y="-537.8" font-family="Arial" font-size="14.00">token_count </text>
<text text-anchor="start" x="690.96" y="-537.8" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="741.54" y="-537.8" font-family="Arial" font-size="14.00"> Number of tokens in the content (for context budget management)</text>
<polygon fill="none" stroke="black" points="603.79,-494.8 603.79,-525.6 1259.83,-525.6 1259.83,-494.8 603.79,-494.8"/>
<text text-anchor="start" x="610.79" y="-507" font-family="Arial" font-size="14.00">updated_at </text>
<text text-anchor="start" x="684.74" y="-507" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="850.47" y="-507" font-family="Arial" font-size="14.00"> When this memory was last modified</text>
</g>
<!-- public.nodes&#45;&gt;public.file_sources -->
<g id="edge1" class="edge">
<title>public.nodes:source_id&#45;&gt;public.file_sources:id</title>
<path fill="none" stroke="black" d="M1271.08,-571.37C1446.98,-556.44 1364.41,-154 1178.68,-154"/>
<polygon fill="black" stroke="black" points="1271.15,-571.37 1260.97,-567.29 1265.82,-571.59 1261.49,-571.77 1261.49,-571.77 1261.49,-571.77 1265.82,-571.59 1261.35,-576.28 1271.15,-571.37"/>
<text text-anchor="start" x="1267.83" y="-581.8" font-family="Arial" font-size="10.00">FOREIGN KEY (source_id) REFERENCES file_sources(id) ON DELETE SET NULL</text>
</g>
<!-- public.node_tags -->
<g id="node3" class="node">
<title>public.node_tags</title>
<polygon fill="#efefef" stroke="none" points="43.2,-1279.2 43.2,-1325.2 512.41,-1325.2 512.41,-1279.2 43.2,-1279.2"/>
<polygon fill="none" stroke="black" points="43.2,-1279.2 43.2,-1325.2 512.41,-1325.2 512.41,-1279.2 43.2,-1279.2"/>
<text text-anchor="start" x="154.32" y="-1303" font-family="Arial Bold" font-size="18.00">public.node_tags</text>
<text text-anchor="start" x="276.8" y="-1303" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="307.92" y="-1303" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="116.72" y="-1288.6" font-family="Arial" font-size="14.00" fill="#333333">Join table connecting nodes to tags (many&#45;to&#45;many)</text>
<polygon fill="none" stroke="black" points="43.2,-1248.4 43.2,-1279.2 512.41,-1279.2 512.41,-1248.4 43.2,-1248.4"/>
<text text-anchor="start" x="50.2" y="-1260.6" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="120.25" y="-1260.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="285.97" y="-1260.6" font-family="Arial" font-size="14.00"> When this association was created</text>
<polygon fill="none" stroke="black" points="43.2,-1217.6 43.2,-1248.4 512.41,-1248.4 512.41,-1217.6 43.2,-1217.6"/>
<text text-anchor="start" x="50.2" y="-1229.8" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="64.99" y="-1229.8" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="43.2,-1186.8 43.2,-1217.6 512.41,-1217.6 512.41,-1186.8 43.2,-1186.8"/>
<text text-anchor="start" x="50.2" y="-1199" font-family="Arial" font-size="14.00">node_id </text>
<text text-anchor="start" x="103.92" y="-1199" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="145.16" y="-1199" font-family="Arial" font-size="14.00"> ID of the node being tagged</text>
<polygon fill="none" stroke="black" points="43.2,-1156 43.2,-1186.8 512.41,-1186.8 512.41,-1156 43.2,-1156"/>
<text text-anchor="start" x="50.2" y="-1168.2" font-family="Arial" font-size="14.00">tag_id </text>
<text text-anchor="start" x="92.23" y="-1168.2" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="133.48" y="-1168.2" font-family="Arial" font-size="14.00"> ID of the tag being applied</text>
</g>
<!-- public.node_tags&#45;&gt;public.nodes -->
<g id="edge2" class="edge">
<title>public.node_tags:node_id&#45;&gt;public.nodes:id</title>
<path fill="none" stroke="black" d="M523.68,-1200.75C625.59,-1170.12 485.26,-664.2 602.79,-664.2"/>
<polygon fill="black" stroke="black" points="523.64,-1200.76 513.11,-1197.7 518.36,-1201.5 514.07,-1202.11 514.07,-1202.11 514.07,-1202.11 518.36,-1201.5 514.37,-1206.61 523.64,-1200.76"/>
<text text-anchor="start" x="520.41" y="-1212.2" font-family="Arial" font-size="10.00">FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE</text>
</g>
<!-- public.robot_nodes -->
<g id="node4" class="node">
<title>public.robot_nodes</title>
<polygon fill="#efefef" stroke="none" points="617.06,-1340.8 617.06,-1386.8 1246.55,-1386.8 1246.55,-1340.8 617.06,-1340.8"/>
<polygon fill="none" stroke="black" points="617.06,-1340.8 617.06,-1386.8 1246.55,-1386.8 1246.55,-1340.8 617.06,-1340.8"/>
<text text-anchor="start" x="800.32" y="-1364.6" font-family="Arial Bold" font-size="18.00">public.robot_nodes</text>
<text text-anchor="start" x="938.8" y="-1364.6" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="969.92" y="-1364.6" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="764.5" y="-1350.2" font-family="Arial" font-size="14.00" fill="#333333">Join table connecting robots to nodes (many&#45;to&#45;many)</text>
<polygon fill="none" stroke="black" points="617.06,-1310 617.06,-1340.8 1246.55,-1340.8 1246.55,-1310 617.06,-1310"/>
<text text-anchor="start" x="624.06" y="-1322.2" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="694.11" y="-1322.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<polygon fill="none" stroke="black" points="617.06,-1279.2 617.06,-1310 1246.55,-1310 1246.55,-1279.2 617.06,-1279.2"/>
<text text-anchor="start" x="624.06" y="-1291.4" font-family="Arial" font-size="14.00">first_remembered_at </text>
<text text-anchor="start" x="757.12" y="-1291.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="922.84" y="-1291.4" font-family="Arial" font-size="14.00"> When this robot first remembered this content</text>
<polygon fill="none" stroke="black" points="617.06,-1248.4 617.06,-1279.2 1246.55,-1279.2 1246.55,-1248.4 617.06,-1248.4"/>
<text text-anchor="start" x="624.06" y="-1260.6" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="638.85" y="-1260.6" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="617.06,-1217.6 617.06,-1248.4 1246.55,-1248.4 1246.55,-1217.6 617.06,-1217.6"/>
<text text-anchor="start" x="624.06" y="-1229.8" font-family="Arial" font-size="14.00">last_remembered_at </text>
<text text-anchor="start" x="756.35" y="-1229.8" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="922.08" y="-1229.8" font-family="Arial" font-size="14.00"> When this robot last tried to remember this content</text>
<polygon fill="none" stroke="black" points="617.06,-1186.8 617.06,-1217.6 1246.55,-1217.6 1246.55,-1186.8 617.06,-1186.8"/>
<text text-anchor="start" x="624.06" y="-1199" font-family="Arial" font-size="14.00">node_id </text>
<text text-anchor="start" x="677.78" y="-1199" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="719.03" y="-1199" font-family="Arial" font-size="14.00"> ID of the node being remembered</text>
<polygon fill="none" stroke="black" points="617.06,-1156 617.06,-1186.8 1246.55,-1186.8 1246.55,-1156 617.06,-1156"/>
<text text-anchor="start" x="624.06" y="-1168.2" font-family="Arial" font-size="14.00">remember_count </text>
<text text-anchor="start" x="733.78" y="-1168.2" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="784.37" y="-1168.2" font-family="Arial" font-size="14.00"> Number of times this robot has tried to remember this content</text>
<polygon fill="none" stroke="black" points="617.06,-1125.2 617.06,-1156 1246.55,-1156 1246.55,-1125.2 617.06,-1125.2"/>
<text text-anchor="start" x="624.06" y="-1137.4" font-family="Arial" font-size="14.00">robot_id </text>
<text text-anchor="start" x="678.54" y="-1137.4" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="719.79" y="-1137.4" font-family="Arial" font-size="14.00"> ID of the robot that remembered this node</text>
<polygon fill="none" stroke="black" points="617.06,-1094.4 617.06,-1125.2 1246.55,-1125.2 1246.55,-1094.4 617.06,-1094.4"/>
<text text-anchor="start" x="624.06" y="-1106.6" font-family="Arial" font-size="14.00">updated_at </text>
<text text-anchor="start" x="698.02" y="-1106.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
</g>
<!-- public.robot_nodes&#45;&gt;public.nodes -->
<g id="edge3" class="edge">
<title>public.robot_nodes:node_id&#45;&gt;public.nodes:id</title>
<path fill="none" stroke="black" d="M1256.62,-1197.87C1308.54,-1146.95 1317.47,-664.2 1260.83,-664.2"/>
<polygon fill="black" stroke="black" points="1256.88,-1197.75 1245.91,-1198 1252.06,-1200.05 1248.15,-1201.91 1248.15,-1201.91 1248.15,-1201.91 1252.06,-1200.05 1249.79,-1206.12 1256.88,-1197.75"/>
<text text-anchor="start" x="1077.78" y="-1186.2" font-family="Arial" font-size="10.00">FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE</text>
</g>
<!-- public.working_memories -->
<g id="node5" class="node">
<title>public.working_memories</title>
<polygon fill="#efefef" stroke="none" points="1351.18,-1294.6 1351.18,-1340.6 1862.43,-1340.6 1862.43,-1294.6 1351.18,-1294.6"/>
<polygon fill="none" stroke="black" points="1351.18,-1294.6 1351.18,-1340.6 1862.43,-1340.6 1862.43,-1294.6 1351.18,-1294.6"/>
<text text-anchor="start" x="1449.83" y="-1318.4" font-family="Arial Bold" font-size="18.00">public.working_memories</text>
<text text-anchor="start" x="1639.29" y="-1318.4" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="1670.41" y="-1318.4" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="1438.35" y="-1304" font-family="Arial" font-size="14.00" fill="#333333">Per&#45;robot working memory state (optional persistence)</text>
<polygon fill="none" stroke="black" points="1351.18,-1263.8 1351.18,-1294.6 1862.43,-1294.6 1862.43,-1263.8 1351.18,-1263.8"/>
<text text-anchor="start" x="1358.18" y="-1276" font-family="Arial" font-size="14.00">added_at </text>
<text text-anchor="start" x="1420.46" y="-1276" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1586.19" y="-1276" font-family="Arial" font-size="14.00"> When node was added to working memory</text>
<polygon fill="none" stroke="black" points="1351.18,-1233 1351.18,-1263.8 1862.43,-1263.8 1862.43,-1233 1351.18,-1233"/>
<text text-anchor="start" x="1358.18" y="-1245.2" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="1372.97" y="-1245.2" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="1351.18,-1202.2 1351.18,-1233 1862.43,-1233 1862.43,-1202.2 1351.18,-1202.2"/>
<text text-anchor="start" x="1358.18" y="-1214.4" font-family="Arial" font-size="14.00">node_id </text>
<text text-anchor="start" x="1411.9" y="-1214.4" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="1453.14" y="-1214.4" font-family="Arial" font-size="14.00"> Node currently in working memory</text>
<polygon fill="none" stroke="black" points="1351.18,-1171.4 1351.18,-1202.2 1862.43,-1202.2 1862.43,-1171.4 1351.18,-1171.4"/>
<text text-anchor="start" x="1358.18" y="-1183.6" font-family="Arial" font-size="14.00">robot_id </text>
<text text-anchor="start" x="1412.66" y="-1183.6" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="1453.91" y="-1183.6" font-family="Arial" font-size="14.00"> Robot whose working memory this belongs to</text>
<polygon fill="none" stroke="black" points="1351.18,-1140.6 1351.18,-1171.4 1862.43,-1171.4 1862.43,-1140.6 1351.18,-1140.6"/>
<text text-anchor="start" x="1358.18" y="-1152.8" font-family="Arial" font-size="14.00">token_count </text>
<text text-anchor="start" x="1438.35" y="-1152.8" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="1488.94" y="-1152.8" font-family="Arial" font-size="14.00"> Cached token count for budget tracking</text>
</g>
<!-- public.working_memories&#45;&gt;public.nodes -->
<g id="edge4" class="edge">
<title>public.working_memories:node_id&#45;&gt;public.nodes:id</title>
<path fill="none" stroke="black" d="M1339.95,-1216.2C1234.73,-1185.65 1381.75,-664.2 1260.83,-664.2"/>
<polygon fill="black" stroke="black" points="1339.94,-1216.2 1349.24,-1222.01 1345.23,-1216.92 1349.52,-1217.51 1349.52,-1217.51 1349.52,-1217.51 1345.23,-1216.92 1350.46,-1213.1 1339.94,-1216.2"/>
<text text-anchor="start" x="1003.63" y="-1227.6" font-family="Arial" font-size="10.00">FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE</text>
</g>
</g>
</svg>
