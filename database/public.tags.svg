<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.1.2 (20240928.0832)
 -->
<!-- Title: public.tags Pages: 1 -->
<svg width="1466pt" height="894pt"
 viewBox="0.00 0.00 1465.73 894.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 890)">
<title>public.tags</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-890 1461.73,-890 1461.73,4 -4,4"/>
<!-- public.tags -->
<g id="node1" class="node">
<title>public.tags</title>
<polygon fill="#efefef" stroke="none" points="46.2,-320.4 46.2,-366.4 650.83,-366.4 650.83,-320.4 46.2,-320.4"/>
<polygon fill="none" stroke="black" points="46.2,-320.4 46.2,-366.4 650.83,-366.4 650.83,-320.4 46.2,-320.4"/>
<text text-anchor="start" x="247.02" y="-344.2" font-family="Arial Bold" font-size="18.00">public.tags</text>
<text text-anchor="start" x="325.51" y="-344.2" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="356.63" y="-344.2" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="236.06" y="-329.8" font-family="Arial" font-size="14.00" fill="#333333">Unique tag names for categorization</text>
<polygon fill="none" stroke="black" points="46.2,-289.6 46.2,-320.4 650.83,-320.4 650.83,-289.6 46.2,-289.6"/>
<text text-anchor="start" x="53.2" y="-301.8" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="123.25" y="-301.8" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="288.97" y="-301.8" font-family="Arial" font-size="14.00"> When this tag was created</text>
<polygon fill="none" stroke="black" points="46.2,-258.8 46.2,-289.6 650.83,-289.6 650.83,-258.8 46.2,-258.8"/>
<text text-anchor="start" x="53.2" y="-271" font-family="Arial" font-size="14.00">deleted_at </text>
<text text-anchor="start" x="122.48" y="-271" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="288.21" y="-271" font-family="Arial" font-size="14.00"> Soft delete timestamp</text>
<polygon fill="none" stroke="black" points="46.2,-228 46.2,-258.8 650.83,-258.8 650.83,-228 46.2,-228"/>
<text text-anchor="start" x="53.2" y="-240.2" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="67.99" y="-240.2" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="46.2,-197.2 46.2,-228 650.83,-228 650.83,-197.2 46.2,-197.2"/>
<text text-anchor="start" x="53.2" y="-209.4" font-family="Arial" font-size="14.00">name </text>
<text text-anchor="start" x="92.11" y="-209.4" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="122.45" y="-209.4" font-family="Arial" font-size="14.00"> Hierarchical tag in format: root:level1:level2 (e.g., database:postgresql:timescaledb)</text>
<polygon fill="none" stroke="black" stroke-width="3" points="44.7,-195.7 44.7,-367.9 652.33,-367.9 652.33,-195.7 44.7,-195.7"/>
</g>
<!-- public.node_tags -->
<g id="node2" class="node">
<title>public.node_tags</title>
<polygon fill="#efefef" stroke="none" points="482.91,-796.8 482.91,-842.8 952.12,-842.8 952.12,-796.8 482.91,-796.8"/>
<polygon fill="none" stroke="black" points="482.91,-796.8 482.91,-842.8 952.12,-842.8 952.12,-796.8 482.91,-796.8"/>
<text text-anchor="start" x="594.03" y="-820.6" font-family="Arial Bold" font-size="18.00">public.node_tags</text>
<text text-anchor="start" x="716.51" y="-820.6" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="747.62" y="-820.6" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="556.43" y="-806.2" font-family="Arial" font-size="14.00" fill="#333333">Join table connecting nodes to tags (many&#45;to&#45;many)</text>
<polygon fill="none" stroke="black" points="482.91,-766 482.91,-796.8 952.12,-796.8 952.12,-766 482.91,-766"/>
<text text-anchor="start" x="489.91" y="-778.2" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="559.95" y="-778.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="725.68" y="-778.2" font-family="Arial" font-size="14.00"> When this association was created</text>
<polygon fill="none" stroke="black" points="482.91,-735.2 482.91,-766 952.12,-766 952.12,-735.2 482.91,-735.2"/>
<text text-anchor="start" x="489.91" y="-747.4" font-family="Arial" font-size="14.00">deleted_at </text>
<text text-anchor="start" x="559.19" y="-747.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="724.91" y="-747.4" font-family="Arial" font-size="14.00"> Soft delete timestamp</text>
<polygon fill="none" stroke="black" points="482.91,-704.4 482.91,-735.2 952.12,-735.2 952.12,-704.4 482.91,-704.4"/>
<text text-anchor="start" x="489.91" y="-716.6" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="504.69" y="-716.6" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="482.91,-673.6 482.91,-704.4 952.12,-704.4 952.12,-673.6 482.91,-673.6"/>
<text text-anchor="start" x="489.91" y="-685.8" font-family="Arial" font-size="14.00">node_id </text>
<text text-anchor="start" x="543.62" y="-685.8" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="584.87" y="-685.8" font-family="Arial" font-size="14.00"> ID of the node being tagged</text>
<polygon fill="none" stroke="black" points="482.91,-642.8 482.91,-673.6 952.12,-673.6 952.12,-642.8 482.91,-642.8"/>
<text text-anchor="start" x="489.91" y="-655" font-family="Arial" font-size="14.00">tag_id </text>
<text text-anchor="start" x="531.94" y="-655" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="573.19" y="-655" font-family="Arial" font-size="14.00"> ID of the tag being applied</text>
</g>
<!-- public.node_tags&#45;&gt;public.tags -->
<g id="edge1" class="edge">
<title>public.node_tags:tag_id&#45;&gt;public.tags:id</title>
<path fill="none" stroke="black" d="M472.07,-655.38C461.65,-646.69 475.02,-619.68 482.91,-599.6 523.75,-495.64 610.56,-516.79 650.83,-412.6 677.93,-342.46 727.03,-243.4 651.83,-243.4"/>
<polygon fill="black" stroke="black" points="471.97,-655.35 480.34,-662.43 477.1,-656.82 481.26,-658.02 481.26,-658.02 481.26,-658.02 477.1,-656.82 482.83,-653.78 471.97,-655.35"/>
<text text-anchor="start" x="152.05" y="-668.2" font-family="Arial" font-size="10.00">FOREIGN KEY (tag_id) REFERENCES tags(id) ON DELETE CASCADE</text>
</g>
<!-- public.nodes -->
<g id="node3" class="node">
<title>public.nodes</title>
<polygon fill="#efefef" stroke="none" points="758.49,-474.4 758.49,-520.4 1414.53,-520.4 1414.53,-474.4 758.49,-474.4"/>
<polygon fill="none" stroke="black" points="758.49,-474.4 758.49,-520.4 1414.53,-520.4 1414.53,-474.4 758.49,-474.4"/>
<text text-anchor="start" x="978.53" y="-498.2" font-family="Arial Bold" font-size="18.00">public.nodes</text>
<text text-anchor="start" x="1070.01" y="-498.2" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="1101.13" y="-498.2" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="895.09" y="-483.8" font-family="Arial" font-size="14.00" fill="#333333">Core memory storage for conversation messages and context</text>
<polygon fill="none" stroke="black" points="758.49,-443.6 758.49,-474.4 1414.53,-474.4 1414.53,-443.6 758.49,-443.6"/>
<text text-anchor="start" x="765.49" y="-455.8" font-family="Arial" font-size="14.00">access_count </text>
<text text-anchor="start" x="854.99" y="-455.8" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="905.58" y="-455.8" font-family="Arial" font-size="14.00"> Number of times this node has been accessed/retrieved</text>
<polygon fill="none" stroke="black" points="758.49,-412.8 758.49,-443.6 1414.53,-443.6 1414.53,-412.8 758.49,-412.8"/>
<text text-anchor="start" x="765.49" y="-425" font-family="Arial" font-size="14.00">chunk_position </text>
<text text-anchor="start" x="862.78" y="-425" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="913.37" y="-425" font-family="Arial" font-size="14.00"> Position within source file (0&#45;indexed)</text>
<polygon fill="none" stroke="black" points="758.49,-382 758.49,-412.8 1414.53,-412.8 1414.53,-382 758.49,-382"/>
<text text-anchor="start" x="765.49" y="-394.2" font-family="Arial" font-size="14.00">content </text>
<text text-anchor="start" x="815.31" y="-394.2" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="845.65" y="-394.2" font-family="Arial" font-size="14.00"> The conversation message/utterance content</text>
<polygon fill="none" stroke="black" points="758.49,-351.2 758.49,-382 1414.53,-382 1414.53,-351.2 758.49,-351.2"/>
<text text-anchor="start" x="765.49" y="-363.4" font-family="Arial" font-size="14.00">content_hash </text>
<text text-anchor="start" x="853.45" y="-363.4" font-family="Arial" font-size="14.00" fill="#666666">[varchar(64)]</text>
<text text-anchor="start" x="932.81" y="-363.4" font-family="Arial" font-size="14.00"> SHA&#45;256 hash of content for deduplication</text>
<polygon fill="none" stroke="black" points="758.49,-320.4 758.49,-351.2 1414.53,-351.2 1414.53,-320.4 758.49,-320.4"/>
<text text-anchor="start" x="765.49" y="-332.6" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="835.54" y="-332.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1001.26" y="-332.6" font-family="Arial" font-size="14.00"> When this memory was created</text>
<polygon fill="none" stroke="black" points="758.49,-289.6 758.49,-320.4 1414.53,-320.4 1414.53,-289.6 758.49,-289.6"/>
<text text-anchor="start" x="765.49" y="-301.8" font-family="Arial" font-size="14.00">deleted_at </text>
<text text-anchor="start" x="834.78" y="-301.8" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1000.5" y="-301.8" font-family="Arial" font-size="14.00"> Soft delete timestamp &#45; node is considered deleted when set</text>
<polygon fill="none" stroke="black" points="758.49,-258.8 758.49,-289.6 1414.53,-289.6 1414.53,-258.8 758.49,-258.8"/>
<text text-anchor="start" x="765.49" y="-271" font-family="Arial" font-size="14.00">embedding </text>
<text text-anchor="start" x="838.66" y="-271" font-family="Arial" font-size="14.00" fill="#666666">[vector(2000)]</text>
<text text-anchor="start" x="925.03" y="-271" font-family="Arial" font-size="14.00"> Vector embedding (max 2000 dimensions) for semantic search</text>
<polygon fill="none" stroke="black" points="758.49,-228 758.49,-258.8 1414.53,-258.8 1414.53,-228 758.49,-228"/>
<text text-anchor="start" x="765.49" y="-240.2" font-family="Arial" font-size="14.00">embedding_dimension </text>
<text text-anchor="start" x="910.26" y="-240.2" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="960.84" y="-240.2" font-family="Arial" font-size="14.00"> Actual number of dimensions used in the embedding vector (max 2000)</text>
<polygon fill="none" stroke="black" points="758.49,-197.2 758.49,-228 1414.53,-228 1414.53,-197.2 758.49,-197.2"/>
<text text-anchor="start" x="765.49" y="-209.4" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="780.28" y="-209.4" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="758.49,-166.4 758.49,-197.2 1414.53,-197.2 1414.53,-166.4 758.49,-166.4"/>
<text text-anchor="start" x="765.49" y="-178.6" font-family="Arial" font-size="14.00">last_accessed </text>
<text text-anchor="start" x="858.1" y="-178.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1023.82" y="-178.6" font-family="Arial" font-size="14.00"> When this memory was last accessed</text>
<polygon fill="none" stroke="black" points="758.49,-135.6 758.49,-166.4 1414.53,-166.4 1414.53,-135.6 758.49,-135.6"/>
<text text-anchor="start" x="765.49" y="-147.8" font-family="Arial" font-size="14.00">metadata </text>
<text text-anchor="start" x="827.76" y="-147.8" font-family="Arial" font-size="14.00" fill="#666666">[jsonb]</text>
<text text-anchor="start" x="869" y="-147.8" font-family="Arial" font-size="14.00"> Flexible metadata storage (memory_type, importance, source, etc.)</text>
<polygon fill="none" stroke="black" points="758.49,-104.8 758.49,-135.6 1414.53,-135.6 1414.53,-104.8 758.49,-104.8"/>
<text text-anchor="start" x="765.49" y="-117" font-family="Arial" font-size="14.00">source_id </text>
<text text-anchor="start" x="830.09" y="-117" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="871.33" y="-117" font-family="Arial" font-size="14.00"> Reference to source file (for file&#45;loaded nodes)</text>
<polygon fill="none" stroke="black" points="758.49,-74 758.49,-104.8 1414.53,-104.8 1414.53,-74 758.49,-74"/>
<text text-anchor="start" x="765.49" y="-86.2" font-family="Arial" font-size="14.00">token_count </text>
<text text-anchor="start" x="845.67" y="-86.2" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="896.25" y="-86.2" font-family="Arial" font-size="14.00"> Number of tokens in the content (for context budget management)</text>
<polygon fill="none" stroke="black" points="758.49,-43.2 758.49,-74 1414.53,-74 1414.53,-43.2 758.49,-43.2"/>
<text text-anchor="start" x="765.49" y="-55.4" font-family="Arial" font-size="14.00">updated_at </text>
<text text-anchor="start" x="839.45" y="-55.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1005.18" y="-55.4" font-family="Arial" font-size="14.00"> When this memory was last modified</text>
</g>
<!-- public.node_tags&#45;&gt;public.nodes -->
<g id="edge2" class="edge">
<title>public.node_tags:node_id&#45;&gt;public.nodes:id</title>
<path fill="none" stroke="black" d="M963.23,-687.39C989.79,-677.75 975.19,-627.05 952.12,-599.6 895.79,-532.6 814.54,-630.83 758.49,-563.6 708.55,-503.69 679.49,-212.6 757.49,-212.6"/>
<polygon fill="black" stroke="black" points="963.33,-687.38 952.74,-684.5 958.06,-688.22 953.78,-688.9 953.78,-688.9 953.78,-688.9 958.06,-688.22 954.15,-693.39 963.33,-687.38"/>
<text text-anchor="start" x="960.12" y="-699" font-family="Arial" font-size="10.00">FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE</text>
</g>
</g>
</svg>
