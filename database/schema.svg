<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.1.2 (20240928.0832)
 -->
<!-- Title: htm_development Pages: 1 -->
<svg width="2702pt" height="894pt"
 viewBox="0.00 0.00 2702.44 894.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 890)">
<title>htm_development</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-890 2698.44,-890 2698.44,4 -4,4"/>
<!-- public.node_tags -->
<g id="node1" class="node">
<title>public.node_tags</title>
<polygon fill="#efefef" stroke="none" points="1749.66,-735.2 1749.66,-781.2 2218.87,-781.2 2218.87,-735.2 1749.66,-735.2"/>
<polygon fill="none" stroke="black" points="1749.66,-735.2 1749.66,-781.2 2218.87,-781.2 2218.87,-735.2 1749.66,-735.2"/>
<text text-anchor="start" x="1860.78" y="-759" font-family="Arial Bold" font-size="18.00">public.node_tags</text>
<text text-anchor="start" x="1983.26" y="-759" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="2014.38" y="-759" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="1823.18" y="-744.6" font-family="Arial" font-size="14.00" fill="#333333">Join table connecting nodes to tags (many&#45;to&#45;many)</text>
<polygon fill="none" stroke="black" points="1749.66,-704.4 1749.66,-735.2 2218.87,-735.2 2218.87,-704.4 1749.66,-704.4"/>
<text text-anchor="start" x="1756.66" y="-716.6" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="1826.71" y="-716.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1992.43" y="-716.6" font-family="Arial" font-size="14.00"> When this association was created</text>
<polygon fill="none" stroke="black" points="1749.66,-673.6 1749.66,-704.4 2218.87,-704.4 2218.87,-673.6 1749.66,-673.6"/>
<text text-anchor="start" x="1756.66" y="-685.8" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="1771.45" y="-685.8" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="1749.66,-642.8 1749.66,-673.6 2218.87,-673.6 2218.87,-642.8 1749.66,-642.8"/>
<text text-anchor="start" x="1756.66" y="-655" font-family="Arial" font-size="14.00">node_id </text>
<text text-anchor="start" x="1810.38" y="-655" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="1851.62" y="-655" font-family="Arial" font-size="14.00"> ID of the node being tagged</text>
<polygon fill="none" stroke="black" points="1749.66,-612 1749.66,-642.8 2218.87,-642.8 2218.87,-612 1749.66,-612"/>
<text text-anchor="start" x="1756.66" y="-624.2" font-family="Arial" font-size="14.00">tag_id </text>
<text text-anchor="start" x="1798.69" y="-624.2" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="1839.94" y="-624.2" font-family="Arial" font-size="14.00"> ID of the tag being applied</text>
</g>
<!-- public.nodes -->
<g id="node2" class="node">
<title>public.nodes</title>
<polygon fill="#efefef" stroke="none" points="963.25,-382 963.25,-428 1619.29,-428 1619.29,-382 963.25,-382"/>
<polygon fill="none" stroke="black" points="963.25,-382 963.25,-428 1619.29,-428 1619.29,-382 963.25,-382"/>
<text text-anchor="start" x="1183.28" y="-405.8" font-family="Arial Bold" font-size="18.00">public.nodes</text>
<text text-anchor="start" x="1274.76" y="-405.8" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="1305.88" y="-405.8" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="1099.84" y="-391.4" font-family="Arial" font-size="14.00" fill="#333333">Core memory storage for conversation messages and context</text>
<polygon fill="none" stroke="black" points="963.25,-351.2 963.25,-382 1619.29,-382 1619.29,-351.2 963.25,-351.2"/>
<text text-anchor="start" x="970.25" y="-363.4" font-family="Arial" font-size="14.00">access_count </text>
<text text-anchor="start" x="1059.74" y="-363.4" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="1110.33" y="-363.4" font-family="Arial" font-size="14.00"> Number of times this node has been accessed/retrieved</text>
<polygon fill="none" stroke="black" points="963.25,-320.4 963.25,-351.2 1619.29,-351.2 1619.29,-320.4 963.25,-320.4"/>
<text text-anchor="start" x="970.25" y="-332.6" font-family="Arial" font-size="14.00">content </text>
<text text-anchor="start" x="1020.06" y="-332.6" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="1050.41" y="-332.6" font-family="Arial" font-size="14.00"> The conversation message/utterance content</text>
<polygon fill="none" stroke="black" points="963.25,-289.6 963.25,-320.4 1619.29,-320.4 1619.29,-289.6 963.25,-289.6"/>
<text text-anchor="start" x="970.25" y="-301.8" font-family="Arial" font-size="14.00">content_hash </text>
<text text-anchor="start" x="1058.21" y="-301.8" font-family="Arial" font-size="14.00" fill="#666666">[varchar(64)]</text>
<text text-anchor="start" x="1137.56" y="-301.8" font-family="Arial" font-size="14.00"> SHA&#45;256 hash of content for deduplication</text>
<polygon fill="none" stroke="black" points="963.25,-258.8 963.25,-289.6 1619.29,-289.6 1619.29,-258.8 963.25,-258.8"/>
<text text-anchor="start" x="970.25" y="-271" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="1040.29" y="-271" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1206.02" y="-271" font-family="Arial" font-size="14.00"> When this memory was created</text>
<polygon fill="none" stroke="black" points="963.25,-228 963.25,-258.8 1619.29,-258.8 1619.29,-228 963.25,-228"/>
<text text-anchor="start" x="970.25" y="-240.2" font-family="Arial" font-size="14.00">deleted_at </text>
<text text-anchor="start" x="1039.53" y="-240.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1205.25" y="-240.2" font-family="Arial" font-size="14.00"> Soft delete timestamp &#45; node is considered deleted when set</text>
<polygon fill="none" stroke="black" points="963.25,-197.2 963.25,-228 1619.29,-228 1619.29,-197.2 963.25,-197.2"/>
<text text-anchor="start" x="970.25" y="-209.4" font-family="Arial" font-size="14.00">embedding </text>
<text text-anchor="start" x="1043.41" y="-209.4" font-family="Arial" font-size="14.00" fill="#666666">[vector(2000)]</text>
<text text-anchor="start" x="1129.78" y="-209.4" font-family="Arial" font-size="14.00"> Vector embedding (max 2000 dimensions) for semantic search</text>
<polygon fill="none" stroke="black" points="963.25,-166.4 963.25,-197.2 1619.29,-197.2 1619.29,-166.4 963.25,-166.4"/>
<text text-anchor="start" x="970.25" y="-178.6" font-family="Arial" font-size="14.00">embedding_dimension </text>
<text text-anchor="start" x="1115.01" y="-178.6" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="1165.6" y="-178.6" font-family="Arial" font-size="14.00"> Actual number of dimensions used in the embedding vector (max 2000)</text>
<polygon fill="none" stroke="black" points="963.25,-135.6 963.25,-166.4 1619.29,-166.4 1619.29,-135.6 963.25,-135.6"/>
<text text-anchor="start" x="970.25" y="-147.8" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="985.03" y="-147.8" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="963.25,-104.8 963.25,-135.6 1619.29,-135.6 1619.29,-104.8 963.25,-104.8"/>
<text text-anchor="start" x="970.25" y="-117" font-family="Arial" font-size="14.00">last_accessed </text>
<text text-anchor="start" x="1062.85" y="-117" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1228.58" y="-117" font-family="Arial" font-size="14.00"> When this memory was last accessed</text>
<polygon fill="none" stroke="black" points="963.25,-74 963.25,-104.8 1619.29,-104.8 1619.29,-74 963.25,-74"/>
<text text-anchor="start" x="970.25" y="-86.2" font-family="Arial" font-size="14.00">token_count </text>
<text text-anchor="start" x="1050.42" y="-86.2" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="1101" y="-86.2" font-family="Arial" font-size="14.00"> Number of tokens in the content (for context budget management)</text>
<polygon fill="none" stroke="black" points="963.25,-43.2 963.25,-74 1619.29,-74 1619.29,-43.2 963.25,-43.2"/>
<text text-anchor="start" x="970.25" y="-55.4" font-family="Arial" font-size="14.00">updated_at </text>
<text text-anchor="start" x="1044.21" y="-55.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1209.93" y="-55.4" font-family="Arial" font-size="14.00"> When this memory was last modified</text>
</g>
<!-- public.node_tags&#45;&gt;public.nodes -->
<g id="edge1" class="edge">
<title>public.node_tags:node_id&#45;&gt;public.nodes:id</title>
<path fill="none" stroke="black" d="M1738.69,-657.75C1661.51,-650.37 1694.75,-554.38 1671.27,-471.2 1651.69,-401.86 1692.34,-151 1620.29,-151"/>
<polygon fill="black" stroke="black" points="1738.34,-657.73 1748.12,-662.68 1743.67,-657.97 1747.99,-658.17 1747.99,-658.17 1747.99,-658.17 1743.67,-657.97 1748.53,-653.69 1738.34,-657.73"/>
<text text-anchor="start" x="1490.5" y="-642.2" font-family="Arial" font-size="10.00">FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE</text>
</g>
<!-- public.tags -->
<g id="node6" class="node">
<title>public.tags</title>
<polygon fill="#efefef" stroke="none" points="1723.95,-258.8 1723.95,-304.8 2328.58,-304.8 2328.58,-258.8 1723.95,-258.8"/>
<polygon fill="none" stroke="black" points="1723.95,-258.8 1723.95,-304.8 2328.58,-304.8 2328.58,-258.8 1723.95,-258.8"/>
<text text-anchor="start" x="1924.78" y="-282.6" font-family="Arial Bold" font-size="18.00">public.tags</text>
<text text-anchor="start" x="2003.26" y="-282.6" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="2034.38" y="-282.6" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="1913.81" y="-268.2" font-family="Arial" font-size="14.00" fill="#333333">Unique tag names for categorization</text>
<polygon fill="none" stroke="black" points="1723.95,-228 1723.95,-258.8 2328.58,-258.8 2328.58,-228 1723.95,-228"/>
<text text-anchor="start" x="1730.95" y="-240.2" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="1801" y="-240.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1966.73" y="-240.2" font-family="Arial" font-size="14.00"> When this tag was created</text>
<polygon fill="none" stroke="black" points="1723.95,-197.2 1723.95,-228 2328.58,-228 2328.58,-197.2 1723.95,-197.2"/>
<text text-anchor="start" x="1730.95" y="-209.4" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="1745.74" y="-209.4" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="1723.95,-166.4 1723.95,-197.2 2328.58,-197.2 2328.58,-166.4 1723.95,-166.4"/>
<text text-anchor="start" x="1730.95" y="-178.6" font-family="Arial" font-size="14.00">name </text>
<text text-anchor="start" x="1769.86" y="-178.6" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="1800.21" y="-178.6" font-family="Arial" font-size="14.00"> Hierarchical tag in format: root:level1:level2 (e.g., database:postgresql:timescaledb)</text>
</g>
<!-- public.node_tags&#45;&gt;public.tags -->
<g id="edge2" class="edge">
<title>public.node_tags:tag_id&#45;&gt;public.tags:id</title>
<path fill="none" stroke="black" d="M1984,-600.7C1975.85,-448.73 1785.71,-496.61 1723.95,-348 1700.86,-292.43 1662.77,-212.6 1722.95,-212.6"/>
<polygon fill="black" stroke="black" points="1984,-600.67 1979.76,-610.78 1984.14,-606 1984.25,-610.33 1984.25,-610.33 1984.25,-610.33 1984.14,-606 1988.76,-610.55 1984,-600.67"/>
<text text-anchor="start" x="1991.27" y="-595" font-family="Arial" font-size="10.00">FOREIGN KEY (tag_id) REFERENCES tags(id) ON DELETE CASCADE</text>
</g>
<!-- public.robot_nodes -->
<g id="node3" class="node">
<title>public.robot_nodes</title>
<polygon fill="#efefef" stroke="none" points="973.52,-796.8 973.52,-842.8 1603.01,-842.8 1603.01,-796.8 973.52,-796.8"/>
<polygon fill="none" stroke="black" points="973.52,-796.8 973.52,-842.8 1603.01,-842.8 1603.01,-796.8 973.52,-796.8"/>
<text text-anchor="start" x="1156.78" y="-820.6" font-family="Arial Bold" font-size="18.00">public.robot_nodes</text>
<text text-anchor="start" x="1295.26" y="-820.6" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="1326.38" y="-820.6" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="1120.96" y="-806.2" font-family="Arial" font-size="14.00" fill="#333333">Join table connecting robots to nodes (many&#45;to&#45;many)</text>
<polygon fill="none" stroke="black" points="973.52,-766 973.52,-796.8 1603.01,-796.8 1603.01,-766 973.52,-766"/>
<text text-anchor="start" x="980.52" y="-778.2" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="1050.57" y="-778.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<polygon fill="none" stroke="black" points="973.52,-735.2 973.52,-766 1603.01,-766 1603.01,-735.2 973.52,-735.2"/>
<text text-anchor="start" x="980.52" y="-747.4" font-family="Arial" font-size="14.00">first_remembered_at </text>
<text text-anchor="start" x="1113.58" y="-747.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1279.3" y="-747.4" font-family="Arial" font-size="14.00"> When this robot first remembered this content</text>
<polygon fill="none" stroke="black" points="973.52,-704.4 973.52,-735.2 1603.01,-735.2 1603.01,-704.4 973.52,-704.4"/>
<text text-anchor="start" x="980.52" y="-716.6" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="995.31" y="-716.6" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="973.52,-673.6 973.52,-704.4 1603.01,-704.4 1603.01,-673.6 973.52,-673.6"/>
<text text-anchor="start" x="980.52" y="-685.8" font-family="Arial" font-size="14.00">last_remembered_at </text>
<text text-anchor="start" x="1112.81" y="-685.8" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1278.54" y="-685.8" font-family="Arial" font-size="14.00"> When this robot last tried to remember this content</text>
<polygon fill="none" stroke="black" points="973.52,-642.8 973.52,-673.6 1603.01,-673.6 1603.01,-642.8 973.52,-642.8"/>
<text text-anchor="start" x="980.52" y="-655" font-family="Arial" font-size="14.00">node_id </text>
<text text-anchor="start" x="1034.24" y="-655" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="1075.49" y="-655" font-family="Arial" font-size="14.00"> ID of the node being remembered</text>
<polygon fill="none" stroke="black" points="973.52,-612 973.52,-642.8 1603.01,-642.8 1603.01,-612 973.52,-612"/>
<text text-anchor="start" x="980.52" y="-624.2" font-family="Arial" font-size="14.00">remember_count </text>
<text text-anchor="start" x="1090.24" y="-624.2" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="1140.83" y="-624.2" font-family="Arial" font-size="14.00"> Number of times this robot has tried to remember this content</text>
<polygon fill="none" stroke="black" points="973.52,-581.2 973.52,-612 1603.01,-612 1603.01,-581.2 973.52,-581.2"/>
<text text-anchor="start" x="980.52" y="-593.4" font-family="Arial" font-size="14.00">robot_id </text>
<text text-anchor="start" x="1035" y="-593.4" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="1076.25" y="-593.4" font-family="Arial" font-size="14.00"> ID of the robot that remembered this node</text>
<polygon fill="none" stroke="black" points="973.52,-550.4 973.52,-581.2 1603.01,-581.2 1603.01,-550.4 973.52,-550.4"/>
<text text-anchor="start" x="980.52" y="-562.6" font-family="Arial" font-size="14.00">updated_at </text>
<text text-anchor="start" x="1054.48" y="-562.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
</g>
<!-- public.robot_nodes&#45;&gt;public.nodes -->
<g id="edge4" class="edge">
<title>public.robot_nodes:node_id&#45;&gt;public.nodes:id</title>
<path fill="none" stroke="black" d="M1614.23,-657.31C1668.66,-647.16 1646.74,-553.16 1603.01,-507.2 1504.85,-404.05 1061.23,-574.52 963.25,-471.2 914.29,-419.57 891.09,-151 962.25,-151"/>
<polygon fill="black" stroke="black" points="1614.31,-657.3 1603.95,-653.69 1608.99,-657.76 1604.68,-658.14 1604.68,-658.14 1604.68,-658.14 1608.99,-657.76 1604.73,-662.65 1614.31,-657.3"/>
<text text-anchor="start" x="1257.46" y="-668.2" font-family="Arial" font-size="10.00">FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE</text>
</g>
<!-- public.robots -->
<g id="node4" class="node">
<title>public.robots</title>
<polygon fill="#efefef" stroke="none" points="354.16,-274.2 354.16,-320.2 858.37,-320.2 858.37,-274.2 354.16,-274.2"/>
<polygon fill="none" stroke="black" points="354.16,-274.2 354.16,-320.2 858.37,-320.2 858.37,-274.2 354.16,-274.2"/>
<text text-anchor="start" x="496.78" y="-298" font-family="Arial Bold" font-size="18.00">public.robots</text>
<text text-anchor="start" x="591.27" y="-298" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="622.38" y="-298" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="455.33" y="-283.6" font-family="Arial" font-size="14.00" fill="#333333">Registry of all LLM robots using the HTM system</text>
<polygon fill="none" stroke="black" points="354.16,-243.4 354.16,-274.2 858.37,-274.2 858.37,-243.4 354.16,-243.4"/>
<text text-anchor="start" x="361.16" y="-255.6" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="431.21" y="-255.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="596.93" y="-255.6" font-family="Arial" font-size="14.00"> When the robot was first registered</text>
<polygon fill="none" stroke="black" points="354.16,-212.6 354.16,-243.4 858.37,-243.4 858.37,-212.6 354.16,-212.6"/>
<text text-anchor="start" x="361.16" y="-224.8" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="375.95" y="-224.8" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="354.16,-181.8 354.16,-212.6 858.37,-212.6 858.37,-181.8 354.16,-181.8"/>
<text text-anchor="start" x="361.16" y="-194" font-family="Arial" font-size="14.00">last_active </text>
<text text-anchor="start" x="431.19" y="-194" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="596.92" y="-194" font-family="Arial" font-size="14.00"> Last time the robot accessed the system</text>
<polygon fill="none" stroke="black" points="354.16,-151 354.16,-181.8 858.37,-181.8 858.37,-151 354.16,-151"/>
<text text-anchor="start" x="361.16" y="-163.2" font-family="Arial" font-size="14.00">name </text>
<text text-anchor="start" x="400.07" y="-163.2" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="430.42" y="-163.2" font-family="Arial" font-size="14.00"> Human&#45;readable name for the robot</text>
</g>
<!-- public.robot_nodes&#45;&gt;public.robots -->
<g id="edge3" class="edge">
<title>public.robot_nodes:robot_id&#45;&gt;public.robots:id</title>
<path fill="none" stroke="black" d="M962.14,-595.88C912.89,-588.54 930.28,-526.28 911.27,-471.2 893.24,-418.96 914.63,-228 859.37,-228"/>
<polygon fill="black" stroke="black" points="962.21,-595.89 971.88,-601.07 967.53,-596.26 971.86,-596.55 971.86,-596.55 971.86,-596.55 967.53,-596.26 972.5,-592.09 962.21,-595.89"/>
<text text-anchor="start" x="713.54" y="-580.6" font-family="Arial" font-size="10.00">FOREIGN KEY (robot_id) REFERENCES robots(id) ON DELETE CASCADE</text>
</g>
<!-- public.schema_migrations -->
<g id="node5" class="node">
<title>public.schema_migrations</title>
<polygon fill="#efefef" stroke="none" points="2323.29,-694.2 2323.29,-729.8 2651.24,-729.8 2651.24,-694.2 2323.29,-694.2"/>
<polygon fill="none" stroke="black" points="2323.29,-694.2 2323.29,-729.8 2651.24,-729.8 2651.24,-694.2 2323.29,-694.2"/>
<text text-anchor="start" x="2330.29" y="-707.6" font-family="Arial Bold" font-size="18.00">public.schema_migrations</text>
<text text-anchor="start" x="2519.75" y="-707.6" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="2550.87" y="-707.6" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<polygon fill="none" stroke="black" points="2323.29,-663.4 2323.29,-694.2 2651.24,-694.2 2651.24,-663.4 2323.29,-663.4"/>
<text text-anchor="start" x="2330.29" y="-675.6" font-family="Arial" font-size="14.00">version </text>
<text text-anchor="start" x="2379.31" y="-675.6" font-family="Arial" font-size="14.00" fill="#666666">[varchar]</text>
</g>
<!-- public.working_memories -->
<g id="node7" class="node">
<title>public.working_memories</title>
<polygon fill="#efefef" stroke="none" points="355.64,-750.6 355.64,-796.6 866.89,-796.6 866.89,-750.6 355.64,-750.6"/>
<polygon fill="none" stroke="black" points="355.64,-750.6 355.64,-796.6 866.89,-796.6 866.89,-750.6 355.64,-750.6"/>
<text text-anchor="start" x="454.29" y="-774.4" font-family="Arial Bold" font-size="18.00">public.working_memories</text>
<text text-anchor="start" x="643.75" y="-774.4" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="674.87" y="-774.4" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="442.81" y="-760" font-family="Arial" font-size="14.00" fill="#333333">Per&#45;robot working memory state (optional persistence)</text>
<polygon fill="none" stroke="black" points="355.64,-719.8 355.64,-750.6 866.89,-750.6 866.89,-719.8 355.64,-719.8"/>
<text text-anchor="start" x="362.64" y="-732" font-family="Arial" font-size="14.00">added_at </text>
<text text-anchor="start" x="424.92" y="-732" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="590.65" y="-732" font-family="Arial" font-size="14.00"> When node was added to working memory</text>
<polygon fill="none" stroke="black" points="355.64,-689 355.64,-719.8 866.89,-719.8 866.89,-689 355.64,-689"/>
<text text-anchor="start" x="362.64" y="-701.2" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="377.43" y="-701.2" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="355.64,-658.2 355.64,-689 866.89,-689 866.89,-658.2 355.64,-658.2"/>
<text text-anchor="start" x="362.64" y="-670.4" font-family="Arial" font-size="14.00">node_id </text>
<text text-anchor="start" x="416.36" y="-670.4" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="457.6" y="-670.4" font-family="Arial" font-size="14.00"> Node currently in working memory</text>
<polygon fill="none" stroke="black" points="355.64,-627.4 355.64,-658.2 866.89,-658.2 866.89,-627.4 355.64,-627.4"/>
<text text-anchor="start" x="362.64" y="-639.6" font-family="Arial" font-size="14.00">robot_id </text>
<text text-anchor="start" x="417.12" y="-639.6" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="458.37" y="-639.6" font-family="Arial" font-size="14.00"> Robot whose working memory this belongs to</text>
<polygon fill="none" stroke="black" points="355.64,-596.6 355.64,-627.4 866.89,-627.4 866.89,-596.6 355.64,-596.6"/>
<text text-anchor="start" x="362.64" y="-608.8" font-family="Arial" font-size="14.00">token_count </text>
<text text-anchor="start" x="442.81" y="-608.8" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="493.4" y="-608.8" font-family="Arial" font-size="14.00"> Cached token count for budget tracking</text>
</g>
<!-- public.working_memories&#45;&gt;public.nodes -->
<g id="edge6" class="edge">
<title>public.working_memories:node_id&#45;&gt;public.nodes:id</title>
<path fill="none" stroke="black" d="M878.21,-672.1C977.3,-641.45 847.92,-151 962.25,-151"/>
<polygon fill="black" stroke="black" points="878.12,-672.11 867.58,-669.1 872.84,-672.88 868.55,-673.5 868.55,-673.5 868.55,-673.5 872.84,-672.88 868.87,-678.01 878.12,-672.11"/>
<text text-anchor="start" x="698.12" y="-657.6" font-family="Arial" font-size="10.00">FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE</text>
</g>
<!-- public.working_memories&#45;&gt;public.robots -->
<g id="edge5" class="edge">
<title>public.working_memories:robot_id&#45;&gt;public.robots:id</title>
<path fill="none" stroke="black" d="M344.6,-641.25C318.46,-631.93 335.09,-582.78 355.64,-553.4 492.54,-357.66 721.85,-559.4 858.37,-363.4 892.77,-314.02 919.55,-228 859.37,-228"/>
<polygon fill="black" stroke="black" points="344.43,-641.22 353.62,-647.2 349.7,-642.04 353.98,-642.7 353.98,-642.7 353.98,-642.7 349.7,-642.04 355,-638.3 344.43,-641.22"/>
<text text-anchor="start" x="7" y="-652.8" font-family="Arial" font-size="10.00">FOREIGN KEY (robot_id) REFERENCES robots(id) ON DELETE CASCADE</text>
</g>
</g>
</svg>
