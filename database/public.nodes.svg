<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.1.2 (20240928.0832)
 -->
<!-- Title: public.nodes Pages: 1 -->
<svg width="2446pt" height="1438pt"
 viewBox="0.00 0.00 2445.90 1438.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1434)">
<title>public.nodes</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1434 2441.9,-1434 2441.9,4 -4,4"/>
<!-- public.nodes -->
<g id="node1" class="node">
<title>public.nodes</title>
<polygon fill="#efefef" stroke="none" points="755.49,-923 755.49,-969 1411.53,-969 1411.53,-923 755.49,-923"/>
<polygon fill="none" stroke="black" points="755.49,-923 755.49,-969 1411.53,-969 1411.53,-923 755.49,-923"/>
<text text-anchor="start" x="975.53" y="-946.8" font-family="Arial Bold" font-size="18.00">public.nodes</text>
<text text-anchor="start" x="1067.01" y="-946.8" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="1098.13" y="-946.8" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="892.09" y="-932.4" font-family="Arial" font-size="14.00" fill="#333333">Core memory storage for conversation messages and context</text>
<polygon fill="none" stroke="black" points="755.49,-892.2 755.49,-923 1411.53,-923 1411.53,-892.2 755.49,-892.2"/>
<text text-anchor="start" x="762.49" y="-904.4" font-family="Arial" font-size="14.00">access_count </text>
<text text-anchor="start" x="851.99" y="-904.4" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="902.58" y="-904.4" font-family="Arial" font-size="14.00"> Number of times this node has been accessed/retrieved</text>
<polygon fill="none" stroke="black" points="755.49,-861.4 755.49,-892.2 1411.53,-892.2 1411.53,-861.4 755.49,-861.4"/>
<text text-anchor="start" x="762.49" y="-873.6" font-family="Arial" font-size="14.00">chunk_position </text>
<text text-anchor="start" x="859.78" y="-873.6" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="910.37" y="-873.6" font-family="Arial" font-size="14.00"> Position within source file (0&#45;indexed)</text>
<polygon fill="none" stroke="black" points="755.49,-830.6 755.49,-861.4 1411.53,-861.4 1411.53,-830.6 755.49,-830.6"/>
<text text-anchor="start" x="762.49" y="-842.8" font-family="Arial" font-size="14.00">content </text>
<text text-anchor="start" x="812.31" y="-842.8" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="842.65" y="-842.8" font-family="Arial" font-size="14.00"> The conversation message/utterance content</text>
<polygon fill="none" stroke="black" points="755.49,-799.8 755.49,-830.6 1411.53,-830.6 1411.53,-799.8 755.49,-799.8"/>
<text text-anchor="start" x="762.49" y="-812" font-family="Arial" font-size="14.00">content_hash </text>
<text text-anchor="start" x="850.45" y="-812" font-family="Arial" font-size="14.00" fill="#666666">[varchar(64)]</text>
<text text-anchor="start" x="929.81" y="-812" font-family="Arial" font-size="14.00"> SHA&#45;256 hash of content for deduplication</text>
<polygon fill="none" stroke="black" points="755.49,-769 755.49,-799.8 1411.53,-799.8 1411.53,-769 755.49,-769"/>
<text text-anchor="start" x="762.49" y="-781.2" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="832.54" y="-781.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="998.26" y="-781.2" font-family="Arial" font-size="14.00"> When this memory was created</text>
<polygon fill="none" stroke="black" points="755.49,-738.2 755.49,-769 1411.53,-769 1411.53,-738.2 755.49,-738.2"/>
<text text-anchor="start" x="762.49" y="-750.4" font-family="Arial" font-size="14.00">deleted_at </text>
<text text-anchor="start" x="831.78" y="-750.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="997.5" y="-750.4" font-family="Arial" font-size="14.00"> Soft delete timestamp &#45; node is considered deleted when set</text>
<polygon fill="none" stroke="black" points="755.49,-707.4 755.49,-738.2 1411.53,-738.2 1411.53,-707.4 755.49,-707.4"/>
<text text-anchor="start" x="762.49" y="-719.6" font-family="Arial" font-size="14.00">embedding </text>
<text text-anchor="start" x="835.66" y="-719.6" font-family="Arial" font-size="14.00" fill="#666666">[vector(2000)]</text>
<text text-anchor="start" x="922.03" y="-719.6" font-family="Arial" font-size="14.00"> Vector embedding (max 2000 dimensions) for semantic search</text>
<polygon fill="none" stroke="black" points="755.49,-676.6 755.49,-707.4 1411.53,-707.4 1411.53,-676.6 755.49,-676.6"/>
<text text-anchor="start" x="762.49" y="-688.8" font-family="Arial" font-size="14.00">embedding_dimension </text>
<text text-anchor="start" x="907.26" y="-688.8" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="957.84" y="-688.8" font-family="Arial" font-size="14.00"> Actual number of dimensions used in the embedding vector (max 2000)</text>
<polygon fill="none" stroke="black" points="755.49,-645.8 755.49,-676.6 1411.53,-676.6 1411.53,-645.8 755.49,-645.8"/>
<text text-anchor="start" x="762.49" y="-658" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="777.28" y="-658" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="755.49,-615 755.49,-645.8 1411.53,-645.8 1411.53,-615 755.49,-615"/>
<text text-anchor="start" x="762.49" y="-627.2" font-family="Arial" font-size="14.00">last_accessed </text>
<text text-anchor="start" x="855.1" y="-627.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1020.82" y="-627.2" font-family="Arial" font-size="14.00"> When this memory was last accessed</text>
<polygon fill="none" stroke="black" points="755.49,-584.2 755.49,-615 1411.53,-615 1411.53,-584.2 755.49,-584.2"/>
<text text-anchor="start" x="762.49" y="-596.4" font-family="Arial" font-size="14.00">metadata </text>
<text text-anchor="start" x="824.76" y="-596.4" font-family="Arial" font-size="14.00" fill="#666666">[jsonb]</text>
<text text-anchor="start" x="866" y="-596.4" font-family="Arial" font-size="14.00"> Flexible metadata storage (memory_type, importance, source, etc.)</text>
<polygon fill="none" stroke="black" points="755.49,-553.4 755.49,-584.2 1411.53,-584.2 1411.53,-553.4 755.49,-553.4"/>
<text text-anchor="start" x="762.49" y="-565.6" font-family="Arial" font-size="14.00">source_id </text>
<text text-anchor="start" x="827.09" y="-565.6" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="868.33" y="-565.6" font-family="Arial" font-size="14.00"> Reference to source file (for file&#45;loaded nodes)</text>
<polygon fill="none" stroke="black" points="755.49,-522.6 755.49,-553.4 1411.53,-553.4 1411.53,-522.6 755.49,-522.6"/>
<text text-anchor="start" x="762.49" y="-534.8" font-family="Arial" font-size="14.00">token_count </text>
<text text-anchor="start" x="842.67" y="-534.8" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="893.25" y="-534.8" font-family="Arial" font-size="14.00"> Number of tokens in the content (for context budget management)</text>
<polygon fill="none" stroke="black" points="755.49,-491.8 755.49,-522.6 1411.53,-522.6 1411.53,-491.8 755.49,-491.8"/>
<text text-anchor="start" x="762.49" y="-504" font-family="Arial" font-size="14.00">updated_at </text>
<text text-anchor="start" x="836.45" y="-504" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1002.18" y="-504" font-family="Arial" font-size="14.00"> When this memory was last modified</text>
<polygon fill="none" stroke="black" stroke-width="3" points="753.99,-490.3 753.99,-970.5 1413.03,-970.5 1413.03,-490.3 753.99,-490.3"/>
</g>
<!-- public.file_sources -->
<g id="node7" class="node">
<title>public.file_sources</title>
<polygon fill="#efefef" stroke="none" points="837.64,-320.4 837.64,-366.4 1329.38,-366.4 1329.38,-320.4 837.64,-320.4"/>
<polygon fill="none" stroke="black" points="837.64,-320.4 837.64,-366.4 1329.38,-366.4 1329.38,-320.4 837.64,-320.4"/>
<text text-anchor="start" x="953.04" y="-344.2" font-family="Arial Bold" font-size="18.00">public.file_sources</text>
<text text-anchor="start" x="1089.5" y="-344.2" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="1120.61" y="-344.2" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="950.04" y="-329.8" font-family="Arial" font-size="14.00" fill="#333333">Source file metadata for loaded documents</text>
<polygon fill="none" stroke="black" points="837.64,-289.6 837.64,-320.4 1329.38,-320.4 1329.38,-289.6 837.64,-289.6"/>
<text text-anchor="start" x="844.64" y="-301.8" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="914.69" y="-301.8" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<polygon fill="none" stroke="black" points="837.64,-258.8 837.64,-289.6 1329.38,-289.6 1329.38,-258.8 837.64,-258.8"/>
<text text-anchor="start" x="844.64" y="-271" font-family="Arial" font-size="14.00">file_hash </text>
<text text-anchor="start" x="904.57" y="-271" font-family="Arial" font-size="14.00" fill="#666666">[varchar(64)]</text>
<text text-anchor="start" x="983.93" y="-271" font-family="Arial" font-size="14.00"> SHA&#45;256 hash of file content</text>
<polygon fill="none" stroke="black" points="837.64,-228 837.64,-258.8 1329.38,-258.8 1329.38,-228 837.64,-228"/>
<text text-anchor="start" x="844.64" y="-240.2" font-family="Arial" font-size="14.00">file_path </text>
<text text-anchor="start" x="901.46" y="-240.2" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="931.81" y="-240.2" font-family="Arial" font-size="14.00"> Absolute path to source file</text>
<polygon fill="none" stroke="black" points="837.64,-197.2 837.64,-228 1329.38,-228 1329.38,-197.2 837.64,-197.2"/>
<text text-anchor="start" x="844.64" y="-209.4" font-family="Arial" font-size="14.00">file_size </text>
<text text-anchor="start" x="899.11" y="-209.4" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="949.7" y="-209.4" font-family="Arial" font-size="14.00"> File size in bytes</text>
<polygon fill="none" stroke="black" points="837.64,-166.4 837.64,-197.2 1329.38,-197.2 1329.38,-166.4 837.64,-166.4"/>
<text text-anchor="start" x="844.64" y="-178.6" font-family="Arial" font-size="14.00">frontmatter </text>
<text text-anchor="start" x="916.22" y="-178.6" font-family="Arial" font-size="14.00" fill="#666666">[jsonb]</text>
<text text-anchor="start" x="957.47" y="-178.6" font-family="Arial" font-size="14.00"> Parsed YAML frontmatter</text>
<polygon fill="none" stroke="black" points="837.64,-135.6 837.64,-166.4 1329.38,-166.4 1329.38,-135.6 837.64,-135.6"/>
<text text-anchor="start" x="844.64" y="-147.8" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="859.43" y="-147.8" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="837.64,-104.8 837.64,-135.6 1329.38,-135.6 1329.38,-104.8 837.64,-104.8"/>
<text text-anchor="start" x="844.64" y="-117" font-family="Arial" font-size="14.00">last_synced_at </text>
<text text-anchor="start" x="941.92" y="-117" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1107.65" y="-117" font-family="Arial" font-size="14.00"> When file was last synced to HTM</text>
<polygon fill="none" stroke="black" points="837.64,-74 837.64,-104.8 1329.38,-104.8 1329.38,-74 837.64,-74"/>
<text text-anchor="start" x="844.64" y="-86.2" font-family="Arial" font-size="14.00">mtime </text>
<text text-anchor="start" x="886.64" y="-86.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1052.36" y="-86.2" font-family="Arial" font-size="14.00"> File modification time</text>
<polygon fill="none" stroke="black" points="837.64,-43.2 837.64,-74 1329.38,-74 1329.38,-43.2 837.64,-43.2"/>
<text text-anchor="start" x="844.64" y="-55.4" font-family="Arial" font-size="14.00">updated_at </text>
<text text-anchor="start" x="918.6" y="-55.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
</g>
<!-- public.nodes&#45;&gt;public.file_sources -->
<g id="edge7" class="edge">
<title>public.nodes:source_id&#45;&gt;public.file_sources:id</title>
<path fill="none" stroke="black" d="M1422.34,-567.12C1501.04,-538.37 1421.49,-151 1330.38,-151"/>
<polygon fill="black" stroke="black" points="1422.72,-567.05 1412.1,-564.31 1417.46,-567.95 1413.19,-568.69 1413.19,-568.69 1413.19,-568.69 1417.46,-567.95 1413.62,-573.18 1422.72,-567.05"/>
<text text-anchor="start" x="1419.53" y="-578.8" font-family="Arial" font-size="10.00">FOREIGN KEY (source_id) REFERENCES file_sources(id) ON DELETE SET NULL</text>
</g>
<!-- public.node_tags -->
<g id="node2" class="node">
<title>public.node_tags</title>
<polygon fill="#efefef" stroke="none" points="185.91,-1279.2 185.91,-1325.2 655.12,-1325.2 655.12,-1279.2 185.91,-1279.2"/>
<polygon fill="none" stroke="black" points="185.91,-1279.2 185.91,-1325.2 655.12,-1325.2 655.12,-1279.2 185.91,-1279.2"/>
<text text-anchor="start" x="297.03" y="-1303" font-family="Arial Bold" font-size="18.00">public.node_tags</text>
<text text-anchor="start" x="419.51" y="-1303" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="450.62" y="-1303" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="259.43" y="-1288.6" font-family="Arial" font-size="14.00" fill="#333333">Join table connecting nodes to tags (many&#45;to&#45;many)</text>
<polygon fill="none" stroke="black" points="185.91,-1248.4 185.91,-1279.2 655.12,-1279.2 655.12,-1248.4 185.91,-1248.4"/>
<text text-anchor="start" x="192.91" y="-1260.6" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="262.95" y="-1260.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="428.68" y="-1260.6" font-family="Arial" font-size="14.00"> When this association was created</text>
<polygon fill="none" stroke="black" points="185.91,-1217.6 185.91,-1248.4 655.12,-1248.4 655.12,-1217.6 185.91,-1217.6"/>
<text text-anchor="start" x="192.91" y="-1229.8" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="207.69" y="-1229.8" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="185.91,-1186.8 185.91,-1217.6 655.12,-1217.6 655.12,-1186.8 185.91,-1186.8"/>
<text text-anchor="start" x="192.91" y="-1199" font-family="Arial" font-size="14.00">node_id </text>
<text text-anchor="start" x="246.62" y="-1199" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="287.87" y="-1199" font-family="Arial" font-size="14.00"> ID of the node being tagged</text>
<polygon fill="none" stroke="black" points="185.91,-1156 185.91,-1186.8 655.12,-1186.8 655.12,-1156 185.91,-1156"/>
<text text-anchor="start" x="192.91" y="-1168.2" font-family="Arial" font-size="14.00">tag_id </text>
<text text-anchor="start" x="234.94" y="-1168.2" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="276.19" y="-1168.2" font-family="Arial" font-size="14.00"> ID of the tag being applied</text>
</g>
<!-- public.node_tags&#45;&gt;public.nodes -->
<g id="edge1" class="edge">
<title>public.node_tags:node_id&#45;&gt;public.nodes:id</title>
<path fill="none" stroke="black" d="M666.18,-1200.83C769.99,-1170.97 635.88,-661.2 754.49,-661.2"/>
<polygon fill="black" stroke="black" points="666.36,-1200.81 655.84,-1197.7 661.07,-1201.53 656.78,-1202.11 656.78,-1202.11 656.78,-1202.11 661.07,-1201.53 657.06,-1206.61 666.36,-1200.81"/>
<text text-anchor="start" x="663.12" y="-1212.2" font-family="Arial" font-size="10.00">FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE</text>
</g>
<!-- public.tags -->
<g id="node3" class="node">
<title>public.tags</title>
<polygon fill="#efefef" stroke="none" points="43.2,-753.6 43.2,-799.6 647.83,-799.6 647.83,-753.6 43.2,-753.6"/>
<polygon fill="none" stroke="black" points="43.2,-753.6 43.2,-799.6 647.83,-799.6 647.83,-753.6 43.2,-753.6"/>
<text text-anchor="start" x="244.02" y="-777.4" font-family="Arial Bold" font-size="18.00">public.tags</text>
<text text-anchor="start" x="322.51" y="-777.4" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="353.63" y="-777.4" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="233.06" y="-763" font-family="Arial" font-size="14.00" fill="#333333">Unique tag names for categorization</text>
<polygon fill="none" stroke="black" points="43.2,-722.8 43.2,-753.6 647.83,-753.6 647.83,-722.8 43.2,-722.8"/>
<text text-anchor="start" x="50.2" y="-735" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="120.25" y="-735" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="285.97" y="-735" font-family="Arial" font-size="14.00"> When this tag was created</text>
<polygon fill="none" stroke="black" points="43.2,-692 43.2,-722.8 647.83,-722.8 647.83,-692 43.2,-692"/>
<text text-anchor="start" x="50.2" y="-704.2" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="64.99" y="-704.2" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="43.2,-661.2 43.2,-692 647.83,-692 647.83,-661.2 43.2,-661.2"/>
<text text-anchor="start" x="50.2" y="-673.4" font-family="Arial" font-size="14.00">name </text>
<text text-anchor="start" x="89.11" y="-673.4" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="119.45" y="-673.4" font-family="Arial" font-size="14.00"> Hierarchical tag in format: root:level1:level2 (e.g., database:postgresql:timescaledb)</text>
</g>
<!-- public.node_tags&#45;&gt;public.tags -->
<g id="edge2" class="edge">
<title>public.node_tags:tag_id&#45;&gt;public.tags:id</title>
<path fill="none" stroke="black" d="M420.73,-1144.68C427.58,-984.2 595.2,-1002.47 647.83,-842.8 666.66,-785.64 709,-707.4 648.83,-707.4"/>
<polygon fill="black" stroke="black" points="420.73,-1144.67 416.02,-1154.57 420.62,-1150 420.53,-1154.33 420.53,-1154.33 420.53,-1154.33 420.62,-1150 425.02,-1154.76 420.73,-1144.67"/>
<text text-anchor="start" x="90.66" y="-1165" font-family="Arial" font-size="10.00">FOREIGN KEY (tag_id) REFERENCES tags(id) ON DELETE CASCADE</text>
</g>
<!-- public.robot_nodes -->
<g id="node4" class="node">
<title>public.robot_nodes</title>
<polygon fill="#efefef" stroke="none" points="1452.77,-1340.8 1452.77,-1386.8 2082.26,-1386.8 2082.26,-1340.8 1452.77,-1340.8"/>
<polygon fill="none" stroke="black" points="1452.77,-1340.8 1452.77,-1386.8 2082.26,-1386.8 2082.26,-1340.8 1452.77,-1340.8"/>
<text text-anchor="start" x="1636.03" y="-1364.6" font-family="Arial Bold" font-size="18.00">public.robot_nodes</text>
<text text-anchor="start" x="1774.51" y="-1364.6" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="1805.63" y="-1364.6" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="1600.2" y="-1350.2" font-family="Arial" font-size="14.00" fill="#333333">Join table connecting robots to nodes (many&#45;to&#45;many)</text>
<polygon fill="none" stroke="black" points="1452.77,-1310 1452.77,-1340.8 2082.26,-1340.8 2082.26,-1310 1452.77,-1310"/>
<text text-anchor="start" x="1459.77" y="-1322.2" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="1529.82" y="-1322.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<polygon fill="none" stroke="black" points="1452.77,-1279.2 1452.77,-1310 2082.26,-1310 2082.26,-1279.2 1452.77,-1279.2"/>
<text text-anchor="start" x="1459.77" y="-1291.4" font-family="Arial" font-size="14.00">first_remembered_at </text>
<text text-anchor="start" x="1592.82" y="-1291.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1758.55" y="-1291.4" font-family="Arial" font-size="14.00"> When this robot first remembered this content</text>
<polygon fill="none" stroke="black" points="1452.77,-1248.4 1452.77,-1279.2 2082.26,-1279.2 2082.26,-1248.4 1452.77,-1248.4"/>
<text text-anchor="start" x="1459.77" y="-1260.6" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="1474.55" y="-1260.6" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="1452.77,-1217.6 1452.77,-1248.4 2082.26,-1248.4 2082.26,-1217.6 1452.77,-1217.6"/>
<text text-anchor="start" x="1459.77" y="-1229.8" font-family="Arial" font-size="14.00">last_remembered_at </text>
<text text-anchor="start" x="1592.06" y="-1229.8" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1757.78" y="-1229.8" font-family="Arial" font-size="14.00"> When this robot last tried to remember this content</text>
<polygon fill="none" stroke="black" points="1452.77,-1186.8 1452.77,-1217.6 2082.26,-1217.6 2082.26,-1186.8 1452.77,-1186.8"/>
<text text-anchor="start" x="1459.77" y="-1199" font-family="Arial" font-size="14.00">node_id </text>
<text text-anchor="start" x="1513.49" y="-1199" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="1554.73" y="-1199" font-family="Arial" font-size="14.00"> ID of the node being remembered</text>
<polygon fill="none" stroke="black" points="1452.77,-1156 1452.77,-1186.8 2082.26,-1186.8 2082.26,-1156 1452.77,-1156"/>
<text text-anchor="start" x="1459.77" y="-1168.2" font-family="Arial" font-size="14.00">remember_count </text>
<text text-anchor="start" x="1569.49" y="-1168.2" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="1620.07" y="-1168.2" font-family="Arial" font-size="14.00"> Number of times this robot has tried to remember this content</text>
<polygon fill="none" stroke="black" points="1452.77,-1125.2 1452.77,-1156 2082.26,-1156 2082.26,-1125.2 1452.77,-1125.2"/>
<text text-anchor="start" x="1459.77" y="-1137.4" font-family="Arial" font-size="14.00">robot_id </text>
<text text-anchor="start" x="1514.25" y="-1137.4" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="1555.5" y="-1137.4" font-family="Arial" font-size="14.00"> ID of the robot that remembered this node</text>
<polygon fill="none" stroke="black" points="1452.77,-1094.4 1452.77,-1125.2 2082.26,-1125.2 2082.26,-1094.4 1452.77,-1094.4"/>
<text text-anchor="start" x="1459.77" y="-1106.6" font-family="Arial" font-size="14.00">updated_at </text>
<text text-anchor="start" x="1533.73" y="-1106.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
</g>
<!-- public.robot_nodes&#45;&gt;public.nodes -->
<g id="edge3" class="edge">
<title>public.robot_nodes:node_id&#45;&gt;public.nodes:id</title>
<path fill="none" stroke="black" d="M1441.69,-1200.74C1343.16,-1169.94 1529.42,-661.2 1412.53,-661.2"/>
<polygon fill="black" stroke="black" points="1441.54,-1200.72 1450.79,-1206.61 1446.82,-1201.48 1451.11,-1202.1 1451.11,-1202.1 1451.11,-1202.1 1446.82,-1201.48 1452.08,-1197.7 1441.54,-1200.72"/>
<text text-anchor="start" x="1193.61" y="-1186.2" font-family="Arial" font-size="10.00">FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE</text>
</g>
<!-- public.robots -->
<g id="node5" class="node">
<title>public.robots</title>
<polygon fill="#efefef" stroke="none" points="1519.41,-769 1519.41,-815 2023.62,-815 2023.62,-769 1519.41,-769"/>
<polygon fill="none" stroke="black" points="1519.41,-769 1519.41,-815 2023.62,-815 2023.62,-769 1519.41,-769"/>
<text text-anchor="start" x="1662.02" y="-792.8" font-family="Arial Bold" font-size="18.00">public.robots</text>
<text text-anchor="start" x="1756.51" y="-792.8" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="1787.63" y="-792.8" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="1620.57" y="-778.4" font-family="Arial" font-size="14.00" fill="#333333">Registry of all LLM robots using the HTM system</text>
<polygon fill="none" stroke="black" points="1519.41,-738.2 1519.41,-769 2023.62,-769 2023.62,-738.2 1519.41,-738.2"/>
<text text-anchor="start" x="1526.41" y="-750.4" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="1596.45" y="-750.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1762.18" y="-750.4" font-family="Arial" font-size="14.00"> When the robot was first registered</text>
<polygon fill="none" stroke="black" points="1519.41,-707.4 1519.41,-738.2 2023.62,-738.2 2023.62,-707.4 1519.41,-707.4"/>
<text text-anchor="start" x="1526.41" y="-719.6" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="1541.19" y="-719.6" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="1519.41,-676.6 1519.41,-707.4 2023.62,-707.4 2023.62,-676.6 1519.41,-676.6"/>
<text text-anchor="start" x="1526.41" y="-688.8" font-family="Arial" font-size="14.00">last_active </text>
<text text-anchor="start" x="1596.44" y="-688.8" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1762.16" y="-688.8" font-family="Arial" font-size="14.00"> Last time the robot accessed the system</text>
<polygon fill="none" stroke="black" points="1519.41,-645.8 1519.41,-676.6 2023.62,-676.6 2023.62,-645.8 1519.41,-645.8"/>
<text text-anchor="start" x="1526.41" y="-658" font-family="Arial" font-size="14.00">name </text>
<text text-anchor="start" x="1565.32" y="-658" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="1595.66" y="-658" font-family="Arial" font-size="14.00"> Human&#45;readable name for the robot</text>
</g>
<!-- public.robot_nodes&#45;&gt;public.robots -->
<g id="edge4" class="edge">
<title>public.robot_nodes:robot_id&#45;&gt;public.robots:id</title>
<path fill="none" stroke="black" d="M2093.31,-1139.04C2119.53,-1129.67 2103.26,-1080.26 2082.26,-1051.2 1927.35,-836.87 1673.91,-1072.83 1519.41,-858.2 1484.25,-809.36 1458.23,-722.8 1518.41,-722.8"/>
<polygon fill="black" stroke="black" points="2093.47,-1139.02 2082.9,-1136.1 2088.2,-1139.83 2083.92,-1140.5 2083.92,-1140.5 2083.92,-1140.5 2088.2,-1139.83 2084.28,-1145 2093.47,-1139.02"/>
<text text-anchor="start" x="2090.26" y="-1150.6" font-family="Arial" font-size="10.00">FOREIGN KEY (robot_id) REFERENCES robots(id) ON DELETE CASCADE</text>
</g>
<!-- public.working_memories -->
<g id="node6" class="node">
<title>public.working_memories</title>
<polygon fill="#efefef" stroke="none" points="830.89,-1294.6 830.89,-1340.6 1342.14,-1340.6 1342.14,-1294.6 830.89,-1294.6"/>
<polygon fill="none" stroke="black" points="830.89,-1294.6 830.89,-1340.6 1342.14,-1340.6 1342.14,-1294.6 830.89,-1294.6"/>
<text text-anchor="start" x="929.53" y="-1318.4" font-family="Arial Bold" font-size="18.00">public.working_memories</text>
<text text-anchor="start" x="1119" y="-1318.4" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="1150.12" y="-1318.4" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="918.05" y="-1304" font-family="Arial" font-size="14.00" fill="#333333">Per&#45;robot working memory state (optional persistence)</text>
<polygon fill="none" stroke="black" points="830.89,-1263.8 830.89,-1294.6 1342.14,-1294.6 1342.14,-1263.8 830.89,-1263.8"/>
<text text-anchor="start" x="837.89" y="-1276" font-family="Arial" font-size="14.00">added_at </text>
<text text-anchor="start" x="900.17" y="-1276" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1065.89" y="-1276" font-family="Arial" font-size="14.00"> When node was added to working memory</text>
<polygon fill="none" stroke="black" points="830.89,-1233 830.89,-1263.8 1342.14,-1263.8 1342.14,-1233 830.89,-1233"/>
<text text-anchor="start" x="837.89" y="-1245.2" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="852.67" y="-1245.2" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="830.89,-1202.2 830.89,-1233 1342.14,-1233 1342.14,-1202.2 830.89,-1202.2"/>
<text text-anchor="start" x="837.89" y="-1214.4" font-family="Arial" font-size="14.00">node_id </text>
<text text-anchor="start" x="891.6" y="-1214.4" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="932.85" y="-1214.4" font-family="Arial" font-size="14.00"> Node currently in working memory</text>
<polygon fill="none" stroke="black" points="830.89,-1171.4 830.89,-1202.2 1342.14,-1202.2 1342.14,-1171.4 830.89,-1171.4"/>
<text text-anchor="start" x="837.89" y="-1183.6" font-family="Arial" font-size="14.00">robot_id </text>
<text text-anchor="start" x="892.37" y="-1183.6" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="933.62" y="-1183.6" font-family="Arial" font-size="14.00"> Robot whose working memory this belongs to</text>
<polygon fill="none" stroke="black" points="830.89,-1140.6 830.89,-1171.4 1342.14,-1171.4 1342.14,-1140.6 830.89,-1140.6"/>
<text text-anchor="start" x="837.89" y="-1152.8" font-family="Arial" font-size="14.00">token_count </text>
<text text-anchor="start" x="918.06" y="-1152.8" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="968.64" y="-1152.8" font-family="Arial" font-size="14.00"> Cached token count for budget tracking</text>
</g>
<!-- public.working_memories&#45;&gt;public.nodes -->
<g id="edge5" class="edge">
<title>public.working_memories:node_id&#45;&gt;public.nodes:id</title>
<path fill="none" stroke="black" d="M819.67,-1216.45C779.24,-1206.55 798.16,-1134.77 830.89,-1097.4 1002.6,-901.32 1240.36,-1211.75 1411.53,-1015.2 1463.2,-955.88 1491.2,-661.2 1412.53,-661.2"/>
<polygon fill="black" stroke="black" points="819.62,-1216.45 829.05,-1222.03 824.92,-1217.04 829.22,-1217.53 829.22,-1217.53 829.22,-1217.53 824.92,-1217.04 830.06,-1213.09 819.62,-1216.45"/>
<text text-anchor="start" x="571.73" y="-1201.6" font-family="Arial" font-size="10.00">FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE</text>
</g>
<!-- public.working_memories&#45;&gt;public.robots -->
<g id="edge6" class="edge">
<title>public.working_memories:robot_id&#45;&gt;public.robots:id</title>
<path fill="none" stroke="black" d="M1353.48,-1185.93C1402.81,-1176.73 1359.16,-1096.86 1400.51,-1051.2 1422.94,-1026.43 1447,-1042.33 1466.51,-1015.2 1505.05,-961.63 1452.41,-722.8 1518.41,-722.8"/>
<polygon fill="black" stroke="black" points="1353.44,-1185.93 1343.09,-1182.29 1348.12,-1186.38 1343.81,-1186.74 1343.81,-1186.74 1343.81,-1186.74 1348.12,-1186.38 1343.85,-1191.26 1353.44,-1185.93"/>
<text text-anchor="start" x="1172.82" y="-1170.8" font-family="Arial" font-size="10.00">FOREIGN KEY (robot_id) REFERENCES robots(id) ON DELETE CASCADE</text>
</g>
</g>
</svg>
