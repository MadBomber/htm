<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.1.2 (20240928.0832)
 -->
<!-- Title: public.nodes Pages: 1 -->
<svg width="2446pt" height="900pt"
 viewBox="0.00 0.00 2445.90 900.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 896)">
<title>public.nodes</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-896 2441.9,-896 2441.9,4 -4,4"/>
<!-- public.nodes -->
<g id="node1" class="node">
<title>public.nodes</title>
<polygon fill="#efefef" stroke="none" points="755.49,-385 755.49,-431 1411.53,-431 1411.53,-385 755.49,-385"/>
<polygon fill="none" stroke="black" points="755.49,-385 755.49,-431 1411.53,-431 1411.53,-385 755.49,-385"/>
<text text-anchor="start" x="975.53" y="-408.8" font-family="Arial Bold" font-size="18.00">public.nodes</text>
<text text-anchor="start" x="1067.01" y="-408.8" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="1098.13" y="-408.8" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="892.09" y="-394.4" font-family="Arial" font-size="14.00" fill="#333333">Core memory storage for conversation messages and context</text>
<polygon fill="none" stroke="black" points="755.49,-354.2 755.49,-385 1411.53,-385 1411.53,-354.2 755.49,-354.2"/>
<text text-anchor="start" x="762.49" y="-366.4" font-family="Arial" font-size="14.00">access_count </text>
<text text-anchor="start" x="851.99" y="-366.4" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="902.58" y="-366.4" font-family="Arial" font-size="14.00"> Number of times this node has been accessed/retrieved</text>
<polygon fill="none" stroke="black" points="755.49,-323.4 755.49,-354.2 1411.53,-354.2 1411.53,-323.4 755.49,-323.4"/>
<text text-anchor="start" x="762.49" y="-335.6" font-family="Arial" font-size="14.00">content </text>
<text text-anchor="start" x="812.31" y="-335.6" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="842.65" y="-335.6" font-family="Arial" font-size="14.00"> The conversation message/utterance content</text>
<polygon fill="none" stroke="black" points="755.49,-292.6 755.49,-323.4 1411.53,-323.4 1411.53,-292.6 755.49,-292.6"/>
<text text-anchor="start" x="762.49" y="-304.8" font-family="Arial" font-size="14.00">content_hash </text>
<text text-anchor="start" x="850.45" y="-304.8" font-family="Arial" font-size="14.00" fill="#666666">[varchar(64)]</text>
<text text-anchor="start" x="929.81" y="-304.8" font-family="Arial" font-size="14.00"> SHA&#45;256 hash of content for deduplication</text>
<polygon fill="none" stroke="black" points="755.49,-261.8 755.49,-292.6 1411.53,-292.6 1411.53,-261.8 755.49,-261.8"/>
<text text-anchor="start" x="762.49" y="-274" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="832.54" y="-274" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="998.26" y="-274" font-family="Arial" font-size="14.00"> When this memory was created</text>
<polygon fill="none" stroke="black" points="755.49,-231 755.49,-261.8 1411.53,-261.8 1411.53,-231 755.49,-231"/>
<text text-anchor="start" x="762.49" y="-243.2" font-family="Arial" font-size="14.00">deleted_at </text>
<text text-anchor="start" x="831.78" y="-243.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="997.5" y="-243.2" font-family="Arial" font-size="14.00"> Soft delete timestamp &#45; node is considered deleted when set</text>
<polygon fill="none" stroke="black" points="755.49,-200.2 755.49,-231 1411.53,-231 1411.53,-200.2 755.49,-200.2"/>
<text text-anchor="start" x="762.49" y="-212.4" font-family="Arial" font-size="14.00">embedding </text>
<text text-anchor="start" x="835.66" y="-212.4" font-family="Arial" font-size="14.00" fill="#666666">[vector(2000)]</text>
<text text-anchor="start" x="922.03" y="-212.4" font-family="Arial" font-size="14.00"> Vector embedding (max 2000 dimensions) for semantic search</text>
<polygon fill="none" stroke="black" points="755.49,-169.4 755.49,-200.2 1411.53,-200.2 1411.53,-169.4 755.49,-169.4"/>
<text text-anchor="start" x="762.49" y="-181.6" font-family="Arial" font-size="14.00">embedding_dimension </text>
<text text-anchor="start" x="907.26" y="-181.6" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="957.84" y="-181.6" font-family="Arial" font-size="14.00"> Actual number of dimensions used in the embedding vector (max 2000)</text>
<polygon fill="none" stroke="black" points="755.49,-138.6 755.49,-169.4 1411.53,-169.4 1411.53,-138.6 755.49,-138.6"/>
<text text-anchor="start" x="762.49" y="-150.8" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="777.28" y="-150.8" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="755.49,-107.8 755.49,-138.6 1411.53,-138.6 1411.53,-107.8 755.49,-107.8"/>
<text text-anchor="start" x="762.49" y="-120" font-family="Arial" font-size="14.00">last_accessed </text>
<text text-anchor="start" x="855.1" y="-120" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1020.82" y="-120" font-family="Arial" font-size="14.00"> When this memory was last accessed</text>
<polygon fill="none" stroke="black" points="755.49,-77 755.49,-107.8 1411.53,-107.8 1411.53,-77 755.49,-77"/>
<text text-anchor="start" x="762.49" y="-89.2" font-family="Arial" font-size="14.00">token_count </text>
<text text-anchor="start" x="842.67" y="-89.2" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="893.25" y="-89.2" font-family="Arial" font-size="14.00"> Number of tokens in the content (for context budget management)</text>
<polygon fill="none" stroke="black" points="755.49,-46.2 755.49,-77 1411.53,-77 1411.53,-46.2 755.49,-46.2"/>
<text text-anchor="start" x="762.49" y="-58.4" font-family="Arial" font-size="14.00">updated_at </text>
<text text-anchor="start" x="836.45" y="-58.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1002.18" y="-58.4" font-family="Arial" font-size="14.00"> When this memory was last modified</text>
<polygon fill="none" stroke="black" stroke-width="3" points="753.99,-44.7 753.99,-432.5 1413.03,-432.5 1413.03,-44.7 753.99,-44.7"/>
</g>
<!-- public.node_tags -->
<g id="node2" class="node">
<title>public.node_tags</title>
<polygon fill="#efefef" stroke="none" points="185.91,-741.2 185.91,-787.2 655.12,-787.2 655.12,-741.2 185.91,-741.2"/>
<polygon fill="none" stroke="black" points="185.91,-741.2 185.91,-787.2 655.12,-787.2 655.12,-741.2 185.91,-741.2"/>
<text text-anchor="start" x="297.03" y="-765" font-family="Arial Bold" font-size="18.00">public.node_tags</text>
<text text-anchor="start" x="419.51" y="-765" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="450.62" y="-765" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="259.43" y="-750.6" font-family="Arial" font-size="14.00" fill="#333333">Join table connecting nodes to tags (many&#45;to&#45;many)</text>
<polygon fill="none" stroke="black" points="185.91,-710.4 185.91,-741.2 655.12,-741.2 655.12,-710.4 185.91,-710.4"/>
<text text-anchor="start" x="192.91" y="-722.6" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="262.95" y="-722.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="428.68" y="-722.6" font-family="Arial" font-size="14.00"> When this association was created</text>
<polygon fill="none" stroke="black" points="185.91,-679.6 185.91,-710.4 655.12,-710.4 655.12,-679.6 185.91,-679.6"/>
<text text-anchor="start" x="192.91" y="-691.8" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="207.69" y="-691.8" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="185.91,-648.8 185.91,-679.6 655.12,-679.6 655.12,-648.8 185.91,-648.8"/>
<text text-anchor="start" x="192.91" y="-661" font-family="Arial" font-size="14.00">node_id </text>
<text text-anchor="start" x="246.62" y="-661" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="287.87" y="-661" font-family="Arial" font-size="14.00"> ID of the node being tagged</text>
<polygon fill="none" stroke="black" points="185.91,-618 185.91,-648.8 655.12,-648.8 655.12,-618 185.91,-618"/>
<text text-anchor="start" x="192.91" y="-630.2" font-family="Arial" font-size="14.00">tag_id </text>
<text text-anchor="start" x="234.94" y="-630.2" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="276.19" y="-630.2" font-family="Arial" font-size="14.00"> ID of the tag being applied</text>
</g>
<!-- public.node_tags&#45;&gt;public.nodes -->
<g id="edge1" class="edge">
<title>public.node_tags:node_id&#45;&gt;public.nodes:id</title>
<path fill="none" stroke="black" d="M666.23,-662.74C763.54,-632.81 642.64,-154 754.49,-154"/>
<polygon fill="black" stroke="black" points="666.35,-662.72 655.8,-659.7 661.07,-663.48 656.78,-664.1 656.78,-664.1 656.78,-664.1 661.07,-663.48 657.09,-668.61 666.35,-662.72"/>
<text text-anchor="start" x="663.12" y="-674.2" font-family="Arial" font-size="10.00">FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE</text>
</g>
<!-- public.tags -->
<g id="node3" class="node">
<title>public.tags</title>
<polygon fill="#efefef" stroke="none" points="43.2,-261.8 43.2,-307.8 647.83,-307.8 647.83,-261.8 43.2,-261.8"/>
<polygon fill="none" stroke="black" points="43.2,-261.8 43.2,-307.8 647.83,-307.8 647.83,-261.8 43.2,-261.8"/>
<text text-anchor="start" x="244.02" y="-285.6" font-family="Arial Bold" font-size="18.00">public.tags</text>
<text text-anchor="start" x="322.51" y="-285.6" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="353.63" y="-285.6" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="233.06" y="-271.2" font-family="Arial" font-size="14.00" fill="#333333">Unique tag names for categorization</text>
<polygon fill="none" stroke="black" points="43.2,-231 43.2,-261.8 647.83,-261.8 647.83,-231 43.2,-231"/>
<text text-anchor="start" x="50.2" y="-243.2" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="120.25" y="-243.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="285.97" y="-243.2" font-family="Arial" font-size="14.00"> When this tag was created</text>
<polygon fill="none" stroke="black" points="43.2,-200.2 43.2,-231 647.83,-231 647.83,-200.2 43.2,-200.2"/>
<text text-anchor="start" x="50.2" y="-212.4" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="64.99" y="-212.4" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="43.2,-169.4 43.2,-200.2 647.83,-200.2 647.83,-169.4 43.2,-169.4"/>
<text text-anchor="start" x="50.2" y="-181.6" font-family="Arial" font-size="14.00">name </text>
<text text-anchor="start" x="89.11" y="-181.6" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="119.45" y="-181.6" font-family="Arial" font-size="14.00"> Hierarchical tag in format: root:level1:level2 (e.g., database:postgresql:timescaledb)</text>
</g>
<!-- public.node_tags&#45;&gt;public.tags -->
<g id="edge2" class="edge">
<title>public.node_tags:tag_id&#45;&gt;public.tags:id</title>
<path fill="none" stroke="black" d="M420.77,-606.81C428.22,-462.98 594.66,-493.42 647.83,-351 668.87,-294.62 709,-215.6 648.83,-215.6"/>
<polygon fill="black" stroke="black" points="420.77,-606.67 416.02,-616.55 420.64,-612 420.53,-616.33 420.53,-616.33 420.53,-616.33 420.64,-612 425.02,-616.78 420.77,-606.67"/>
<text text-anchor="start" x="90.66" y="-627" font-family="Arial" font-size="10.00">FOREIGN KEY (tag_id) REFERENCES tags(id) ON DELETE CASCADE</text>
</g>
<!-- public.robot_nodes -->
<g id="node4" class="node">
<title>public.robot_nodes</title>
<polygon fill="#efefef" stroke="none" points="1452.77,-802.8 1452.77,-848.8 2082.26,-848.8 2082.26,-802.8 1452.77,-802.8"/>
<polygon fill="none" stroke="black" points="1452.77,-802.8 1452.77,-848.8 2082.26,-848.8 2082.26,-802.8 1452.77,-802.8"/>
<text text-anchor="start" x="1636.03" y="-826.6" font-family="Arial Bold" font-size="18.00">public.robot_nodes</text>
<text text-anchor="start" x="1774.51" y="-826.6" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="1805.63" y="-826.6" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="1600.2" y="-812.2" font-family="Arial" font-size="14.00" fill="#333333">Join table connecting robots to nodes (many&#45;to&#45;many)</text>
<polygon fill="none" stroke="black" points="1452.77,-772 1452.77,-802.8 2082.26,-802.8 2082.26,-772 1452.77,-772"/>
<text text-anchor="start" x="1459.77" y="-784.2" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="1529.82" y="-784.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<polygon fill="none" stroke="black" points="1452.77,-741.2 1452.77,-772 2082.26,-772 2082.26,-741.2 1452.77,-741.2"/>
<text text-anchor="start" x="1459.77" y="-753.4" font-family="Arial" font-size="14.00">first_remembered_at </text>
<text text-anchor="start" x="1592.82" y="-753.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1758.55" y="-753.4" font-family="Arial" font-size="14.00"> When this robot first remembered this content</text>
<polygon fill="none" stroke="black" points="1452.77,-710.4 1452.77,-741.2 2082.26,-741.2 2082.26,-710.4 1452.77,-710.4"/>
<text text-anchor="start" x="1459.77" y="-722.6" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="1474.55" y="-722.6" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="1452.77,-679.6 1452.77,-710.4 2082.26,-710.4 2082.26,-679.6 1452.77,-679.6"/>
<text text-anchor="start" x="1459.77" y="-691.8" font-family="Arial" font-size="14.00">last_remembered_at </text>
<text text-anchor="start" x="1592.06" y="-691.8" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1757.78" y="-691.8" font-family="Arial" font-size="14.00"> When this robot last tried to remember this content</text>
<polygon fill="none" stroke="black" points="1452.77,-648.8 1452.77,-679.6 2082.26,-679.6 2082.26,-648.8 1452.77,-648.8"/>
<text text-anchor="start" x="1459.77" y="-661" font-family="Arial" font-size="14.00">node_id </text>
<text text-anchor="start" x="1513.49" y="-661" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="1554.73" y="-661" font-family="Arial" font-size="14.00"> ID of the node being remembered</text>
<polygon fill="none" stroke="black" points="1452.77,-618 1452.77,-648.8 2082.26,-648.8 2082.26,-618 1452.77,-618"/>
<text text-anchor="start" x="1459.77" y="-630.2" font-family="Arial" font-size="14.00">remember_count </text>
<text text-anchor="start" x="1569.49" y="-630.2" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="1620.07" y="-630.2" font-family="Arial" font-size="14.00"> Number of times this robot has tried to remember this content</text>
<polygon fill="none" stroke="black" points="1452.77,-587.2 1452.77,-618 2082.26,-618 2082.26,-587.2 1452.77,-587.2"/>
<text text-anchor="start" x="1459.77" y="-599.4" font-family="Arial" font-size="14.00">robot_id </text>
<text text-anchor="start" x="1514.25" y="-599.4" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="1555.5" y="-599.4" font-family="Arial" font-size="14.00"> ID of the robot that remembered this node</text>
<polygon fill="none" stroke="black" points="1452.77,-556.4 1452.77,-587.2 2082.26,-587.2 2082.26,-556.4 1452.77,-556.4"/>
<text text-anchor="start" x="1459.77" y="-568.6" font-family="Arial" font-size="14.00">updated_at </text>
<text text-anchor="start" x="1533.73" y="-568.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
</g>
<!-- public.robot_nodes&#45;&gt;public.nodes -->
<g id="edge3" class="edge">
<title>public.robot_nodes:node_id&#45;&gt;public.nodes:id</title>
<path fill="none" stroke="black" d="M1441.7,-662.64C1349.87,-631.85 1522.58,-154 1412.53,-154"/>
<polygon fill="black" stroke="black" points="1441.56,-662.62 1450.75,-668.6 1446.83,-663.44 1451.11,-664.1 1451.11,-664.1 1451.11,-664.1 1446.83,-663.44 1452.13,-659.7 1441.56,-662.62"/>
<text text-anchor="start" x="1193.61" y="-648.2" font-family="Arial" font-size="10.00">FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE</text>
</g>
<!-- public.robots -->
<g id="node5" class="node">
<title>public.robots</title>
<polygon fill="#efefef" stroke="none" points="1519.41,-277.2 1519.41,-323.2 2023.62,-323.2 2023.62,-277.2 1519.41,-277.2"/>
<polygon fill="none" stroke="black" points="1519.41,-277.2 1519.41,-323.2 2023.62,-323.2 2023.62,-277.2 1519.41,-277.2"/>
<text text-anchor="start" x="1662.02" y="-301" font-family="Arial Bold" font-size="18.00">public.robots</text>
<text text-anchor="start" x="1756.51" y="-301" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="1787.63" y="-301" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="1620.57" y="-286.6" font-family="Arial" font-size="14.00" fill="#333333">Registry of all LLM robots using the HTM system</text>
<polygon fill="none" stroke="black" points="1519.41,-246.4 1519.41,-277.2 2023.62,-277.2 2023.62,-246.4 1519.41,-246.4"/>
<text text-anchor="start" x="1526.41" y="-258.6" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="1596.45" y="-258.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1762.18" y="-258.6" font-family="Arial" font-size="14.00"> When the robot was first registered</text>
<polygon fill="none" stroke="black" points="1519.41,-215.6 1519.41,-246.4 2023.62,-246.4 2023.62,-215.6 1519.41,-215.6"/>
<text text-anchor="start" x="1526.41" y="-227.8" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="1541.19" y="-227.8" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="1519.41,-184.8 1519.41,-215.6 2023.62,-215.6 2023.62,-184.8 1519.41,-184.8"/>
<text text-anchor="start" x="1526.41" y="-197" font-family="Arial" font-size="14.00">last_active </text>
<text text-anchor="start" x="1596.44" y="-197" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1762.16" y="-197" font-family="Arial" font-size="14.00"> Last time the robot accessed the system</text>
<polygon fill="none" stroke="black" points="1519.41,-154 1519.41,-184.8 2023.62,-184.8 2023.62,-154 1519.41,-154"/>
<text text-anchor="start" x="1526.41" y="-166.2" font-family="Arial" font-size="14.00">name </text>
<text text-anchor="start" x="1565.32" y="-166.2" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="1595.66" y="-166.2" font-family="Arial" font-size="14.00"> Human&#45;readable name for the robot</text>
</g>
<!-- public.robot_nodes&#45;&gt;public.robots -->
<g id="edge4" class="edge">
<title>public.robot_nodes:robot_id&#45;&gt;public.robots:id</title>
<path fill="none" stroke="black" d="M2093.34,-601.02C2119.74,-591.51 2104.34,-541.45 2082.26,-513.2 1923.05,-309.51 1678.22,-570.39 1519.41,-366.4 1482.44,-318.92 1458.23,-231 1518.41,-231"/>
<polygon fill="black" stroke="black" points="2093.47,-601 2082.89,-598.1 2088.2,-601.82 2083.92,-602.5 2083.92,-602.5 2083.92,-602.5 2088.2,-601.82 2084.28,-606.99 2093.47,-601"/>
<text text-anchor="start" x="2090.26" y="-612.6" font-family="Arial" font-size="10.00">FOREIGN KEY (robot_id) REFERENCES robots(id) ON DELETE CASCADE</text>
</g>
<!-- public.working_memories -->
<g id="node6" class="node">
<title>public.working_memories</title>
<polygon fill="#efefef" stroke="none" points="830.89,-756.6 830.89,-802.6 1342.14,-802.6 1342.14,-756.6 830.89,-756.6"/>
<polygon fill="none" stroke="black" points="830.89,-756.6 830.89,-802.6 1342.14,-802.6 1342.14,-756.6 830.89,-756.6"/>
<text text-anchor="start" x="929.53" y="-780.4" font-family="Arial Bold" font-size="18.00">public.working_memories</text>
<text text-anchor="start" x="1119" y="-780.4" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="1150.12" y="-780.4" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="918.05" y="-766" font-family="Arial" font-size="14.00" fill="#333333">Per&#45;robot working memory state (optional persistence)</text>
<polygon fill="none" stroke="black" points="830.89,-725.8 830.89,-756.6 1342.14,-756.6 1342.14,-725.8 830.89,-725.8"/>
<text text-anchor="start" x="837.89" y="-738" font-family="Arial" font-size="14.00">added_at </text>
<text text-anchor="start" x="900.17" y="-738" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1065.89" y="-738" font-family="Arial" font-size="14.00"> When node was added to working memory</text>
<polygon fill="none" stroke="black" points="830.89,-695 830.89,-725.8 1342.14,-725.8 1342.14,-695 830.89,-695"/>
<text text-anchor="start" x="837.89" y="-707.2" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="852.67" y="-707.2" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="830.89,-664.2 830.89,-695 1342.14,-695 1342.14,-664.2 830.89,-664.2"/>
<text text-anchor="start" x="837.89" y="-676.4" font-family="Arial" font-size="14.00">node_id </text>
<text text-anchor="start" x="891.6" y="-676.4" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="932.85" y="-676.4" font-family="Arial" font-size="14.00"> Node currently in working memory</text>
<polygon fill="none" stroke="black" points="830.89,-633.4 830.89,-664.2 1342.14,-664.2 1342.14,-633.4 830.89,-633.4"/>
<text text-anchor="start" x="837.89" y="-645.6" font-family="Arial" font-size="14.00">robot_id </text>
<text text-anchor="start" x="892.37" y="-645.6" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="933.62" y="-645.6" font-family="Arial" font-size="14.00"> Robot whose working memory this belongs to</text>
<polygon fill="none" stroke="black" points="830.89,-602.6 830.89,-633.4 1342.14,-633.4 1342.14,-602.6 830.89,-602.6"/>
<text text-anchor="start" x="837.89" y="-614.8" font-family="Arial" font-size="14.00">token_count </text>
<text text-anchor="start" x="918.06" y="-614.8" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="968.64" y="-614.8" font-family="Arial" font-size="14.00"> Cached token count for budget tracking</text>
</g>
<!-- public.working_memories&#45;&gt;public.nodes -->
<g id="edge5" class="edge">
<title>public.working_memories:node_id&#45;&gt;public.nodes:id</title>
<path fill="none" stroke="black" d="M819.67,-678.45C779.24,-668.55 798.16,-596.77 830.89,-559.4 1002.6,-363.32 1240.33,-673.73 1411.53,-477.2 1458.71,-423.04 1484.35,-154 1412.53,-154"/>
<polygon fill="black" stroke="black" points="819.62,-678.45 829.05,-684.03 824.92,-679.04 829.22,-679.53 829.22,-679.53 829.22,-679.53 824.92,-679.04 830.06,-675.09 819.62,-678.45"/>
<text text-anchor="start" x="836.89" y="-689.6" font-family="Arial" font-size="10.00">FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE</text>
</g>
<!-- public.working_memories&#45;&gt;public.robots -->
<g id="edge6" class="edge">
<title>public.working_memories:robot_id&#45;&gt;public.robots:id</title>
<path fill="none" stroke="black" d="M1353.48,-647.93C1402.81,-638.73 1359.16,-558.86 1400.51,-513.2 1422.94,-488.43 1446.57,-504.01 1466.51,-477.2 1533.26,-387.48 1406.58,-231 1518.41,-231"/>
<polygon fill="black" stroke="black" points="1353.44,-647.93 1343.09,-644.29 1348.12,-648.38 1343.81,-648.74 1343.81,-648.74 1343.81,-648.74 1348.12,-648.38 1343.85,-653.26 1353.44,-647.93"/>
<text text-anchor="start" x="1172.82" y="-632.8" font-family="Arial" font-size="10.00">FOREIGN KEY (robot_id) REFERENCES robots(id) ON DELETE CASCADE</text>
</g>
</g>
</svg>
