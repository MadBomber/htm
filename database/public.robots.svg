<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.1.2 (20240928.0832)
 -->
<!-- Title: public.robots Pages: 1 -->
<svg width="1967pt" height="894pt"
 viewBox="0.00 0.00 1966.56 894.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 890)">
<title>public.robots</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-890 1962.56,-890 1962.56,4 -4,4"/>
<!-- public.robots -->
<g id="node1" class="node">
<title>public.robots</title>
<polygon fill="#efefef" stroke="none" points="412.28,-274.2 412.28,-320.2 916.49,-320.2 916.49,-274.2 412.28,-274.2"/>
<polygon fill="none" stroke="black" points="412.28,-274.2 412.28,-320.2 916.49,-320.2 916.49,-274.2 412.28,-274.2"/>
<text text-anchor="start" x="554.89" y="-298" font-family="Arial Bold" font-size="18.00">public.robots</text>
<text text-anchor="start" x="649.38" y="-298" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="680.5" y="-298" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="513.44" y="-283.6" font-family="Arial" font-size="14.00" fill="#333333">Registry of all LLM robots using the HTM system</text>
<polygon fill="none" stroke="black" points="412.28,-243.4 412.28,-274.2 916.49,-274.2 916.49,-243.4 412.28,-243.4"/>
<text text-anchor="start" x="419.28" y="-255.6" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="489.33" y="-255.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="655.05" y="-255.6" font-family="Arial" font-size="14.00"> When the robot was first registered</text>
<polygon fill="none" stroke="black" points="412.28,-212.6 412.28,-243.4 916.49,-243.4 916.49,-212.6 412.28,-212.6"/>
<text text-anchor="start" x="419.28" y="-224.8" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="434.06" y="-224.8" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="412.28,-181.8 412.28,-212.6 916.49,-212.6 916.49,-181.8 412.28,-181.8"/>
<text text-anchor="start" x="419.28" y="-194" font-family="Arial" font-size="14.00">last_active </text>
<text text-anchor="start" x="489.31" y="-194" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="655.04" y="-194" font-family="Arial" font-size="14.00"> Last time the robot accessed the system</text>
<polygon fill="none" stroke="black" points="412.28,-151 412.28,-181.8 916.49,-181.8 916.49,-151 412.28,-151"/>
<text text-anchor="start" x="419.28" y="-163.2" font-family="Arial" font-size="14.00">name </text>
<text text-anchor="start" x="458.19" y="-163.2" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="488.53" y="-163.2" font-family="Arial" font-size="14.00"> Human&#45;readable name for the robot</text>
<polygon fill="none" stroke="black" stroke-width="3" points="410.78,-149.5 410.78,-321.7 917.99,-321.7 917.99,-149.5 410.78,-149.5"/>
</g>
<!-- public.robot_nodes -->
<g id="node2" class="node">
<title>public.robot_nodes</title>
<polygon fill="#efefef" stroke="none" points="355.64,-796.8 355.64,-842.8 985.13,-842.8 985.13,-796.8 355.64,-796.8"/>
<polygon fill="none" stroke="black" points="355.64,-796.8 355.64,-842.8 985.13,-842.8 985.13,-796.8 355.64,-796.8"/>
<text text-anchor="start" x="538.9" y="-820.6" font-family="Arial Bold" font-size="18.00">public.robot_nodes</text>
<text text-anchor="start" x="677.38" y="-820.6" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="708.5" y="-820.6" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="503.07" y="-806.2" font-family="Arial" font-size="14.00" fill="#333333">Join table connecting robots to nodes (many&#45;to&#45;many)</text>
<polygon fill="none" stroke="black" points="355.64,-766 355.64,-796.8 985.13,-796.8 985.13,-766 355.64,-766"/>
<text text-anchor="start" x="362.64" y="-778.2" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="432.69" y="-778.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<polygon fill="none" stroke="black" points="355.64,-735.2 355.64,-766 985.13,-766 985.13,-735.2 355.64,-735.2"/>
<text text-anchor="start" x="362.64" y="-747.4" font-family="Arial" font-size="14.00">first_remembered_at </text>
<text text-anchor="start" x="495.69" y="-747.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="661.42" y="-747.4" font-family="Arial" font-size="14.00"> When this robot first remembered this content</text>
<polygon fill="none" stroke="black" points="355.64,-704.4 355.64,-735.2 985.13,-735.2 985.13,-704.4 355.64,-704.4"/>
<text text-anchor="start" x="362.64" y="-716.6" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="377.43" y="-716.6" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="355.64,-673.6 355.64,-704.4 985.13,-704.4 985.13,-673.6 355.64,-673.6"/>
<text text-anchor="start" x="362.64" y="-685.8" font-family="Arial" font-size="14.00">last_remembered_at </text>
<text text-anchor="start" x="494.93" y="-685.8" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="660.65" y="-685.8" font-family="Arial" font-size="14.00"> When this robot last tried to remember this content</text>
<polygon fill="none" stroke="black" points="355.64,-642.8 355.64,-673.6 985.13,-673.6 985.13,-642.8 355.64,-642.8"/>
<text text-anchor="start" x="362.64" y="-655" font-family="Arial" font-size="14.00">node_id </text>
<text text-anchor="start" x="416.36" y="-655" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="457.6" y="-655" font-family="Arial" font-size="14.00"> ID of the node being remembered</text>
<polygon fill="none" stroke="black" points="355.64,-612 355.64,-642.8 985.13,-642.8 985.13,-612 355.64,-612"/>
<text text-anchor="start" x="362.64" y="-624.2" font-family="Arial" font-size="14.00">remember_count </text>
<text text-anchor="start" x="472.36" y="-624.2" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="522.94" y="-624.2" font-family="Arial" font-size="14.00"> Number of times this robot has tried to remember this content</text>
<polygon fill="none" stroke="black" points="355.64,-581.2 355.64,-612 985.13,-612 985.13,-581.2 355.64,-581.2"/>
<text text-anchor="start" x="362.64" y="-593.4" font-family="Arial" font-size="14.00">robot_id </text>
<text text-anchor="start" x="417.12" y="-593.4" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="458.37" y="-593.4" font-family="Arial" font-size="14.00"> ID of the robot that remembered this node</text>
<polygon fill="none" stroke="black" points="355.64,-550.4 355.64,-581.2 985.13,-581.2 985.13,-550.4 355.64,-550.4"/>
<text text-anchor="start" x="362.64" y="-562.6" font-family="Arial" font-size="14.00">updated_at </text>
<text text-anchor="start" x="436.6" y="-562.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
</g>
<!-- public.robot_nodes&#45;&gt;public.robots -->
<g id="edge1" class="edge">
<title>public.robot_nodes:robot_id&#45;&gt;public.robots:id</title>
<path fill="none" stroke="black" d="M344.55,-595.01C318.13,-585.49 333.43,-535.35 355.64,-507.2 514.83,-305.44 757.7,-568.48 916.49,-366.4 954.5,-318.03 979,-228 917.49,-228"/>
<polygon fill="black" stroke="black" points="344.43,-594.99 353.61,-600.99 349.7,-595.82 353.98,-596.5 353.98,-596.5 353.98,-596.5 349.7,-595.82 355.01,-592.1 344.43,-594.99"/>
<text text-anchor="start" x="7" y="-606.6" font-family="Arial" font-size="10.00">FOREIGN KEY (robot_id) REFERENCES robots(id) ON DELETE CASCADE</text>
</g>
<!-- public.nodes -->
<g id="node3" class="node">
<title>public.nodes</title>
<polygon fill="#efefef" stroke="none" points="1024.36,-382 1024.36,-428 1680.4,-428 1680.4,-382 1024.36,-382"/>
<polygon fill="none" stroke="black" points="1024.36,-382 1024.36,-428 1680.4,-428 1680.4,-382 1024.36,-382"/>
<text text-anchor="start" x="1244.4" y="-405.8" font-family="Arial Bold" font-size="18.00">public.nodes</text>
<text text-anchor="start" x="1335.88" y="-405.8" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="1367" y="-405.8" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="1160.96" y="-391.4" font-family="Arial" font-size="14.00" fill="#333333">Core memory storage for conversation messages and context</text>
<polygon fill="none" stroke="black" points="1024.36,-351.2 1024.36,-382 1680.4,-382 1680.4,-351.2 1024.36,-351.2"/>
<text text-anchor="start" x="1031.36" y="-363.4" font-family="Arial" font-size="14.00">access_count </text>
<text text-anchor="start" x="1120.86" y="-363.4" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="1171.45" y="-363.4" font-family="Arial" font-size="14.00"> Number of times this node has been accessed/retrieved</text>
<polygon fill="none" stroke="black" points="1024.36,-320.4 1024.36,-351.2 1680.4,-351.2 1680.4,-320.4 1024.36,-320.4"/>
<text text-anchor="start" x="1031.36" y="-332.6" font-family="Arial" font-size="14.00">content </text>
<text text-anchor="start" x="1081.18" y="-332.6" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="1111.52" y="-332.6" font-family="Arial" font-size="14.00"> The conversation message/utterance content</text>
<polygon fill="none" stroke="black" points="1024.36,-289.6 1024.36,-320.4 1680.4,-320.4 1680.4,-289.6 1024.36,-289.6"/>
<text text-anchor="start" x="1031.36" y="-301.8" font-family="Arial" font-size="14.00">content_hash </text>
<text text-anchor="start" x="1119.32" y="-301.8" font-family="Arial" font-size="14.00" fill="#666666">[varchar(64)]</text>
<text text-anchor="start" x="1198.68" y="-301.8" font-family="Arial" font-size="14.00"> SHA&#45;256 hash of content for deduplication</text>
<polygon fill="none" stroke="black" points="1024.36,-258.8 1024.36,-289.6 1680.4,-289.6 1680.4,-258.8 1024.36,-258.8"/>
<text text-anchor="start" x="1031.36" y="-271" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="1101.41" y="-271" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1267.14" y="-271" font-family="Arial" font-size="14.00"> When this memory was created</text>
<polygon fill="none" stroke="black" points="1024.36,-228 1024.36,-258.8 1680.4,-258.8 1680.4,-228 1024.36,-228"/>
<text text-anchor="start" x="1031.36" y="-240.2" font-family="Arial" font-size="14.00">deleted_at </text>
<text text-anchor="start" x="1100.65" y="-240.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1266.37" y="-240.2" font-family="Arial" font-size="14.00"> Soft delete timestamp &#45; node is considered deleted when set</text>
<polygon fill="none" stroke="black" points="1024.36,-197.2 1024.36,-228 1680.4,-228 1680.4,-197.2 1024.36,-197.2"/>
<text text-anchor="start" x="1031.36" y="-209.4" font-family="Arial" font-size="14.00">embedding </text>
<text text-anchor="start" x="1104.53" y="-209.4" font-family="Arial" font-size="14.00" fill="#666666">[vector(2000)]</text>
<text text-anchor="start" x="1190.9" y="-209.4" font-family="Arial" font-size="14.00"> Vector embedding (max 2000 dimensions) for semantic search</text>
<polygon fill="none" stroke="black" points="1024.36,-166.4 1024.36,-197.2 1680.4,-197.2 1680.4,-166.4 1024.36,-166.4"/>
<text text-anchor="start" x="1031.36" y="-178.6" font-family="Arial" font-size="14.00">embedding_dimension </text>
<text text-anchor="start" x="1176.13" y="-178.6" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="1226.71" y="-178.6" font-family="Arial" font-size="14.00"> Actual number of dimensions used in the embedding vector (max 2000)</text>
<polygon fill="none" stroke="black" points="1024.36,-135.6 1024.36,-166.4 1680.4,-166.4 1680.4,-135.6 1024.36,-135.6"/>
<text text-anchor="start" x="1031.36" y="-147.8" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="1046.15" y="-147.8" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="1024.36,-104.8 1024.36,-135.6 1680.4,-135.6 1680.4,-104.8 1024.36,-104.8"/>
<text text-anchor="start" x="1031.36" y="-117" font-family="Arial" font-size="14.00">last_accessed </text>
<text text-anchor="start" x="1123.97" y="-117" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1289.69" y="-117" font-family="Arial" font-size="14.00"> When this memory was last accessed</text>
<polygon fill="none" stroke="black" points="1024.36,-74 1024.36,-104.8 1680.4,-104.8 1680.4,-74 1024.36,-74"/>
<text text-anchor="start" x="1031.36" y="-86.2" font-family="Arial" font-size="14.00">token_count </text>
<text text-anchor="start" x="1111.54" y="-86.2" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="1162.12" y="-86.2" font-family="Arial" font-size="14.00"> Number of tokens in the content (for context budget management)</text>
<polygon fill="none" stroke="black" points="1024.36,-43.2 1024.36,-74 1680.4,-74 1680.4,-43.2 1024.36,-43.2"/>
<text text-anchor="start" x="1031.36" y="-55.4" font-family="Arial" font-size="14.00">updated_at </text>
<text text-anchor="start" x="1105.32" y="-55.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1271.05" y="-55.4" font-family="Arial" font-size="14.00"> When this memory was last modified</text>
</g>
<!-- public.robot_nodes&#45;&gt;public.nodes -->
<g id="edge2" class="edge">
<title>public.robot_nodes:node_id&#45;&gt;public.nodes:id</title>
<path fill="none" stroke="black" d="M996.41,-656.56C1086.94,-625.08 914.1,-151 1023.36,-151"/>
<polygon fill="black" stroke="black" points="996.33,-656.57 985.75,-653.7 991.06,-657.41 986.79,-658.09 986.79,-658.09 986.79,-658.09 991.06,-657.41 987.17,-662.59 996.33,-656.57"/>
<text text-anchor="start" x="993.13" y="-668.2" font-family="Arial" font-size="10.00">FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE</text>
</g>
<!-- public.working_memories -->
<g id="node4" class="node">
<title>public.working_memories</title>
<polygon fill="#efefef" stroke="none" points="1092.76,-750.6 1092.76,-796.6 1604.01,-796.6 1604.01,-750.6 1092.76,-750.6"/>
<polygon fill="none" stroke="black" points="1092.76,-750.6 1092.76,-796.6 1604.01,-796.6 1604.01,-750.6 1092.76,-750.6"/>
<text text-anchor="start" x="1191.41" y="-774.4" font-family="Arial Bold" font-size="18.00">public.working_memories</text>
<text text-anchor="start" x="1380.87" y="-774.4" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="1411.99" y="-774.4" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="1179.93" y="-760" font-family="Arial" font-size="14.00" fill="#333333">Per&#45;robot working memory state (optional persistence)</text>
<polygon fill="none" stroke="black" points="1092.76,-719.8 1092.76,-750.6 1604.01,-750.6 1604.01,-719.8 1092.76,-719.8"/>
<text text-anchor="start" x="1099.76" y="-732" font-family="Arial" font-size="14.00">added_at </text>
<text text-anchor="start" x="1162.04" y="-732" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1327.76" y="-732" font-family="Arial" font-size="14.00"> When node was added to working memory</text>
<polygon fill="none" stroke="black" points="1092.76,-689 1092.76,-719.8 1604.01,-719.8 1604.01,-689 1092.76,-689"/>
<text text-anchor="start" x="1099.76" y="-701.2" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="1114.54" y="-701.2" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="1092.76,-658.2 1092.76,-689 1604.01,-689 1604.01,-658.2 1092.76,-658.2"/>
<text text-anchor="start" x="1099.76" y="-670.4" font-family="Arial" font-size="14.00">node_id </text>
<text text-anchor="start" x="1153.47" y="-670.4" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="1194.72" y="-670.4" font-family="Arial" font-size="14.00"> Node currently in working memory</text>
<polygon fill="none" stroke="black" points="1092.76,-627.4 1092.76,-658.2 1604.01,-658.2 1604.01,-627.4 1092.76,-627.4"/>
<text text-anchor="start" x="1099.76" y="-639.6" font-family="Arial" font-size="14.00">robot_id </text>
<text text-anchor="start" x="1154.24" y="-639.6" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="1195.49" y="-639.6" font-family="Arial" font-size="14.00"> Robot whose working memory this belongs to</text>
<polygon fill="none" stroke="black" points="1092.76,-596.6 1092.76,-627.4 1604.01,-627.4 1604.01,-596.6 1092.76,-596.6"/>
<text text-anchor="start" x="1099.76" y="-608.8" font-family="Arial" font-size="14.00">token_count </text>
<text text-anchor="start" x="1179.93" y="-608.8" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="1230.51" y="-608.8" font-family="Arial" font-size="14.00"> Cached token count for budget tracking</text>
</g>
<!-- public.working_memories&#45;&gt;public.robots -->
<g id="edge3" class="edge">
<title>public.working_memories:robot_id&#45;&gt;public.robots:id</title>
<path fill="none" stroke="black" d="M1081.52,-641.93C1032.77,-632.75 1077.84,-553.03 1037.38,-507.2 1015.53,-482.44 992.2,-497.62 972.38,-471.2 905.9,-382.55 1028.3,-228 917.49,-228"/>
<polygon fill="black" stroke="black" points="1081.46,-641.92 1091.04,-647.26 1086.77,-642.38 1091.09,-642.74 1091.09,-642.74 1091.09,-642.74 1086.77,-642.38 1091.8,-638.29 1081.46,-641.92"/>
<text text-anchor="start" x="1098.76" y="-626.8" font-family="Arial" font-size="10.00">FOREIGN KEY (robot_id) REFERENCES robots(id) ON DELETE CASCADE</text>
</g>
<!-- public.working_memories&#45;&gt;public.nodes -->
<g id="edge4" class="edge">
<title>public.working_memories:node_id&#45;&gt;public.nodes:id</title>
<path fill="none" stroke="black" d="M1615.22,-672.46C1655.65,-662.55 1636.73,-590.77 1604.01,-553.4 1432.61,-357.63 1195.25,-667.41 1024.36,-471.2 977.63,-417.54 952.21,-151 1023.36,-151"/>
<polygon fill="black" stroke="black" points="1615.28,-672.45 1604.84,-669.09 1609.98,-673.04 1605.67,-673.53 1605.67,-673.53 1605.67,-673.53 1609.98,-673.04 1605.84,-678.03 1615.28,-672.45"/>
<text text-anchor="start" x="1612.01" y="-683.6" font-family="Arial" font-size="10.00">FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE</text>
</g>
</g>
</svg>
