<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.1.2 (20240928.0832)
 -->
<!-- Title: public.robots Pages: 1 -->
<svg width="1394pt" height="1017pt"
 viewBox="0.00 0.00 1393.60 1017.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1013.2)">
<title>public.robots</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1013.2 1389.6,-1013.2 1389.6,4 -4,4"/>
<!-- public.robots -->
<g id="node1" class="node">
<title>public.robots</title>
<polygon fill="#efefef" stroke="none" points="74.28,-320.4 74.28,-366.4 578.49,-366.4 578.49,-320.4 74.28,-320.4"/>
<polygon fill="none" stroke="black" points="74.28,-320.4 74.28,-366.4 578.49,-366.4 578.49,-320.4 74.28,-320.4"/>
<text text-anchor="start" x="216.89" y="-344.2" font-family="Arial Bold" font-size="18.00">public.robots</text>
<text text-anchor="start" x="311.38" y="-344.2" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="342.5" y="-344.2" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="175.44" y="-329.8" font-family="Arial" font-size="14.00" fill="#333333">Registry of all LLM robots using the HTM system</text>
<polygon fill="none" stroke="black" points="74.28,-289.6 74.28,-320.4 578.49,-320.4 578.49,-289.6 74.28,-289.6"/>
<text text-anchor="start" x="81.28" y="-301.8" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="151.33" y="-301.8" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="317.05" y="-301.8" font-family="Arial" font-size="14.00"> When the robot was first registered</text>
<polygon fill="none" stroke="black" points="74.28,-258.8 74.28,-289.6 578.49,-289.6 578.49,-258.8 74.28,-258.8"/>
<text text-anchor="start" x="81.28" y="-271" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="96.06" y="-271" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="74.28,-228 74.28,-258.8 578.49,-258.8 578.49,-228 74.28,-228"/>
<text text-anchor="start" x="81.28" y="-240.2" font-family="Arial" font-size="14.00">last_active </text>
<text text-anchor="start" x="151.31" y="-240.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="317.04" y="-240.2" font-family="Arial" font-size="14.00"> Last time the robot accessed the system</text>
<polygon fill="none" stroke="black" points="74.28,-197.2 74.28,-228 578.49,-228 578.49,-197.2 74.28,-197.2"/>
<text text-anchor="start" x="81.28" y="-209.4" font-family="Arial" font-size="14.00">name </text>
<text text-anchor="start" x="120.19" y="-209.4" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="150.53" y="-209.4" font-family="Arial" font-size="14.00"> Human&#45;readable name for the robot</text>
<polygon fill="none" stroke="black" stroke-width="3" points="72.78,-195.7 72.78,-367.9 579.99,-367.9 579.99,-195.7 72.78,-195.7"/>
</g>
<!-- public.robot_nodes -->
<g id="node2" class="node">
<title>public.robot_nodes</title>
<polygon fill="#efefef" stroke="none" points="355.64,-920 355.64,-966 985.13,-966 985.13,-920 355.64,-920"/>
<polygon fill="none" stroke="black" points="355.64,-920 355.64,-966 985.13,-966 985.13,-920 355.64,-920"/>
<text text-anchor="start" x="538.9" y="-943.8" font-family="Arial Bold" font-size="18.00">public.robot_nodes</text>
<text text-anchor="start" x="677.38" y="-943.8" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="708.5" y="-943.8" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="503.07" y="-929.4" font-family="Arial" font-size="14.00" fill="#333333">Join table connecting robots to nodes (many&#45;to&#45;many)</text>
<polygon fill="none" stroke="black" points="355.64,-889.2 355.64,-920 985.13,-920 985.13,-889.2 355.64,-889.2"/>
<text text-anchor="start" x="362.64" y="-901.4" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="432.69" y="-901.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<polygon fill="none" stroke="black" points="355.64,-858.4 355.64,-889.2 985.13,-889.2 985.13,-858.4 355.64,-858.4"/>
<text text-anchor="start" x="362.64" y="-870.6" font-family="Arial" font-size="14.00">first_remembered_at </text>
<text text-anchor="start" x="495.69" y="-870.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="661.42" y="-870.6" font-family="Arial" font-size="14.00"> When this robot first remembered this content</text>
<polygon fill="none" stroke="black" points="355.64,-827.6 355.64,-858.4 985.13,-858.4 985.13,-827.6 355.64,-827.6"/>
<text text-anchor="start" x="362.64" y="-839.8" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="377.43" y="-839.8" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="355.64,-796.8 355.64,-827.6 985.13,-827.6 985.13,-796.8 355.64,-796.8"/>
<text text-anchor="start" x="362.64" y="-809" font-family="Arial" font-size="14.00">last_remembered_at </text>
<text text-anchor="start" x="494.93" y="-809" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="660.65" y="-809" font-family="Arial" font-size="14.00"> When this robot last tried to remember this content</text>
<polygon fill="none" stroke="black" points="355.64,-766 355.64,-796.8 985.13,-796.8 985.13,-766 355.64,-766"/>
<text text-anchor="start" x="362.64" y="-778.2" font-family="Arial" font-size="14.00">node_id </text>
<text text-anchor="start" x="416.36" y="-778.2" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="457.6" y="-778.2" font-family="Arial" font-size="14.00"> ID of the node being remembered</text>
<polygon fill="none" stroke="black" points="355.64,-735.2 355.64,-766 985.13,-766 985.13,-735.2 355.64,-735.2"/>
<text text-anchor="start" x="362.64" y="-747.4" font-family="Arial" font-size="14.00">remember_count </text>
<text text-anchor="start" x="472.36" y="-747.4" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="522.94" y="-747.4" font-family="Arial" font-size="14.00"> Number of times this robot has tried to remember this content</text>
<polygon fill="none" stroke="black" points="355.64,-704.4 355.64,-735.2 985.13,-735.2 985.13,-704.4 355.64,-704.4"/>
<text text-anchor="start" x="362.64" y="-716.6" font-family="Arial" font-size="14.00">robot_id </text>
<text text-anchor="start" x="417.12" y="-716.6" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="458.37" y="-716.6" font-family="Arial" font-size="14.00"> ID of the robot that remembered this node</text>
<polygon fill="none" stroke="black" points="355.64,-673.6 355.64,-704.4 985.13,-704.4 985.13,-673.6 355.64,-673.6"/>
<text text-anchor="start" x="362.64" y="-685.8" font-family="Arial" font-size="14.00">updated_at </text>
<text text-anchor="start" x="436.6" y="-685.8" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<polygon fill="none" stroke="black" points="355.64,-642.8 355.64,-673.6 985.13,-673.6 985.13,-642.8 355.64,-642.8"/>
<text text-anchor="start" x="362.64" y="-655" font-family="Arial" font-size="14.00">working_memory </text>
<text text-anchor="start" x="473.12" y="-655" font-family="Arial" font-size="14.00" fill="#666666">[boolean]</text>
<text text-anchor="start" x="530.72" y="-655" font-family="Arial" font-size="14.00"> True if this node is currently in the robot working memory</text>
</g>
<!-- public.robot_nodes&#45;&gt;public.robots -->
<g id="edge1" class="edge">
<title>public.robot_nodes:robot_id&#45;&gt;public.robots:id</title>
<path fill="none" stroke="black" d="M344.6,-718.77C305.62,-709.81 334.46,-644.53 355.64,-599.6 410.77,-482.65 523.42,-529.58 578.49,-412.6 604.69,-356.94 641,-274.2 579.49,-274.2"/>
<polygon fill="black" stroke="black" points="344.36,-718.74 353.85,-724.24 349.67,-719.29 353.97,-719.73 353.97,-719.73 353.97,-719.73 349.67,-719.29 354.77,-715.29 344.36,-718.74"/>
<text text-anchor="start" x="7" y="-729.8" font-family="Arial" font-size="10.00">FOREIGN KEY (robot_id) REFERENCES robots(id) ON DELETE CASCADE</text>
</g>
<!-- public.nodes -->
<g id="node3" class="node">
<title>public.nodes</title>
<polygon fill="#efefef" stroke="none" points="686.36,-474.4 686.36,-520.4 1342.4,-520.4 1342.4,-474.4 686.36,-474.4"/>
<polygon fill="none" stroke="black" points="686.36,-474.4 686.36,-520.4 1342.4,-520.4 1342.4,-474.4 686.36,-474.4"/>
<text text-anchor="start" x="906.4" y="-498.2" font-family="Arial Bold" font-size="18.00">public.nodes</text>
<text text-anchor="start" x="997.88" y="-498.2" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="1029" y="-498.2" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="822.96" y="-483.8" font-family="Arial" font-size="14.00" fill="#333333">Core memory storage for conversation messages and context</text>
<polygon fill="none" stroke="black" points="686.36,-443.6 686.36,-474.4 1342.4,-474.4 1342.4,-443.6 686.36,-443.6"/>
<text text-anchor="start" x="693.36" y="-455.8" font-family="Arial" font-size="14.00">access_count </text>
<text text-anchor="start" x="782.86" y="-455.8" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="833.45" y="-455.8" font-family="Arial" font-size="14.00"> Number of times this node has been accessed/retrieved</text>
<polygon fill="none" stroke="black" points="686.36,-412.8 686.36,-443.6 1342.4,-443.6 1342.4,-412.8 686.36,-412.8"/>
<text text-anchor="start" x="693.36" y="-425" font-family="Arial" font-size="14.00">chunk_position </text>
<text text-anchor="start" x="790.65" y="-425" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="841.24" y="-425" font-family="Arial" font-size="14.00"> Position within source file (0&#45;indexed)</text>
<polygon fill="none" stroke="black" points="686.36,-382 686.36,-412.8 1342.4,-412.8 1342.4,-382 686.36,-382"/>
<text text-anchor="start" x="693.36" y="-394.2" font-family="Arial" font-size="14.00">content </text>
<text text-anchor="start" x="743.18" y="-394.2" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="773.52" y="-394.2" font-family="Arial" font-size="14.00"> The conversation message/utterance content</text>
<polygon fill="none" stroke="black" points="686.36,-351.2 686.36,-382 1342.4,-382 1342.4,-351.2 686.36,-351.2"/>
<text text-anchor="start" x="693.36" y="-363.4" font-family="Arial" font-size="14.00">content_hash </text>
<text text-anchor="start" x="781.32" y="-363.4" font-family="Arial" font-size="14.00" fill="#666666">[varchar(64)]</text>
<text text-anchor="start" x="860.68" y="-363.4" font-family="Arial" font-size="14.00"> SHA&#45;256 hash of content for deduplication</text>
<polygon fill="none" stroke="black" points="686.36,-320.4 686.36,-351.2 1342.4,-351.2 1342.4,-320.4 686.36,-320.4"/>
<text text-anchor="start" x="693.36" y="-332.6" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="763.41" y="-332.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="929.14" y="-332.6" font-family="Arial" font-size="14.00"> When this memory was created</text>
<polygon fill="none" stroke="black" points="686.36,-289.6 686.36,-320.4 1342.4,-320.4 1342.4,-289.6 686.36,-289.6"/>
<text text-anchor="start" x="693.36" y="-301.8" font-family="Arial" font-size="14.00">deleted_at </text>
<text text-anchor="start" x="762.65" y="-301.8" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="928.37" y="-301.8" font-family="Arial" font-size="14.00"> Soft delete timestamp &#45; node is considered deleted when set</text>
<polygon fill="none" stroke="black" points="686.36,-258.8 686.36,-289.6 1342.4,-289.6 1342.4,-258.8 686.36,-258.8"/>
<text text-anchor="start" x="693.36" y="-271" font-family="Arial" font-size="14.00">embedding </text>
<text text-anchor="start" x="766.53" y="-271" font-family="Arial" font-size="14.00" fill="#666666">[vector(2000)]</text>
<text text-anchor="start" x="852.9" y="-271" font-family="Arial" font-size="14.00"> Vector embedding (max 2000 dimensions) for semantic search</text>
<polygon fill="none" stroke="black" points="686.36,-228 686.36,-258.8 1342.4,-258.8 1342.4,-228 686.36,-228"/>
<text text-anchor="start" x="693.36" y="-240.2" font-family="Arial" font-size="14.00">embedding_dimension </text>
<text text-anchor="start" x="838.13" y="-240.2" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="888.71" y="-240.2" font-family="Arial" font-size="14.00"> Actual number of dimensions used in the embedding vector (max 2000)</text>
<polygon fill="none" stroke="black" points="686.36,-197.2 686.36,-228 1342.4,-228 1342.4,-197.2 686.36,-197.2"/>
<text text-anchor="start" x="693.36" y="-209.4" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="708.15" y="-209.4" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="686.36,-166.4 686.36,-197.2 1342.4,-197.2 1342.4,-166.4 686.36,-166.4"/>
<text text-anchor="start" x="693.36" y="-178.6" font-family="Arial" font-size="14.00">last_accessed </text>
<text text-anchor="start" x="785.97" y="-178.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="951.69" y="-178.6" font-family="Arial" font-size="14.00"> When this memory was last accessed</text>
<polygon fill="none" stroke="black" points="686.36,-135.6 686.36,-166.4 1342.4,-166.4 1342.4,-135.6 686.36,-135.6"/>
<text text-anchor="start" x="693.36" y="-147.8" font-family="Arial" font-size="14.00">metadata </text>
<text text-anchor="start" x="755.63" y="-147.8" font-family="Arial" font-size="14.00" fill="#666666">[jsonb]</text>
<text text-anchor="start" x="796.87" y="-147.8" font-family="Arial" font-size="14.00"> Flexible metadata storage (memory_type, importance, source, etc.)</text>
<polygon fill="none" stroke="black" points="686.36,-104.8 686.36,-135.6 1342.4,-135.6 1342.4,-104.8 686.36,-104.8"/>
<text text-anchor="start" x="693.36" y="-117" font-family="Arial" font-size="14.00">source_id </text>
<text text-anchor="start" x="757.96" y="-117" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="799.21" y="-117" font-family="Arial" font-size="14.00"> Reference to source file (for file&#45;loaded nodes)</text>
<polygon fill="none" stroke="black" points="686.36,-74 686.36,-104.8 1342.4,-104.8 1342.4,-74 686.36,-74"/>
<text text-anchor="start" x="693.36" y="-86.2" font-family="Arial" font-size="14.00">token_count </text>
<text text-anchor="start" x="773.54" y="-86.2" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="824.12" y="-86.2" font-family="Arial" font-size="14.00"> Number of tokens in the content (for context budget management)</text>
<polygon fill="none" stroke="black" points="686.36,-43.2 686.36,-74 1342.4,-74 1342.4,-43.2 686.36,-43.2"/>
<text text-anchor="start" x="693.36" y="-55.4" font-family="Arial" font-size="14.00">updated_at </text>
<text text-anchor="start" x="767.32" y="-55.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="933.05" y="-55.4" font-family="Arial" font-size="14.00"> When this memory was last modified</text>
</g>
<!-- public.robot_nodes&#45;&gt;public.nodes -->
<g id="edge2" class="edge">
<title>public.robot_nodes:node_id&#45;&gt;public.nodes:id</title>
<path fill="none" stroke="black" d="M996.36,-780.68C1064.36,-770.61 1036.49,-657.2 985.13,-599.6 896.12,-499.78 775.24,-663.54 686.36,-563.6 634.53,-505.31 607.36,-212.6 685.36,-212.6"/>
<polygon fill="black" stroke="black" points="996.44,-780.68 986.15,-776.89 991.11,-781.05 986.79,-781.35 986.79,-781.35 986.79,-781.35 991.11,-781.05 986.78,-785.87 996.44,-780.68"/>
<text text-anchor="start" x="993.13" y="-791.4" font-family="Arial" font-size="10.00">FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE</text>
</g>
</g>
</svg>
