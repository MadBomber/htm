<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.1.2 (20240928.0832)
 -->
<!-- Title: public.robot_nodes Pages: 1 -->
<svg width="2229pt" height="1407pt"
 viewBox="0.00 0.00 2229.19 1407.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1403.2)">
<title>public.robot_nodes</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1403.2 2225.19,-1403.2 2225.19,4 -4,4"/>
<!-- public.robot_nodes -->
<g id="node1" class="node">
<title>public.robot_nodes</title>
<polygon fill="#efefef" stroke="none" points="1236.06,-1307 1236.06,-1353 1865.55,-1353 1865.55,-1307 1236.06,-1307"/>
<polygon fill="none" stroke="black" points="1236.06,-1307 1236.06,-1353 1865.55,-1353 1865.55,-1307 1236.06,-1307"/>
<text text-anchor="start" x="1419.32" y="-1330.8" font-family="Arial Bold" font-size="18.00">public.robot_nodes</text>
<text text-anchor="start" x="1557.8" y="-1330.8" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="1588.92" y="-1330.8" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="1383.5" y="-1316.4" font-family="Arial" font-size="14.00" fill="#333333">Join table connecting robots to nodes (many&#45;to&#45;many)</text>
<polygon fill="none" stroke="black" points="1236.06,-1276.2 1236.06,-1307 1865.55,-1307 1865.55,-1276.2 1236.06,-1276.2"/>
<text text-anchor="start" x="1243.06" y="-1288.4" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="1313.11" y="-1288.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<polygon fill="none" stroke="black" points="1236.06,-1245.4 1236.06,-1276.2 1865.55,-1276.2 1865.55,-1245.4 1236.06,-1245.4"/>
<text text-anchor="start" x="1243.06" y="-1257.6" font-family="Arial" font-size="14.00">first_remembered_at </text>
<text text-anchor="start" x="1376.12" y="-1257.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1541.84" y="-1257.6" font-family="Arial" font-size="14.00"> When this robot first remembered this content</text>
<polygon fill="none" stroke="black" points="1236.06,-1214.6 1236.06,-1245.4 1865.55,-1245.4 1865.55,-1214.6 1236.06,-1214.6"/>
<text text-anchor="start" x="1243.06" y="-1226.8" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="1257.85" y="-1226.8" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="1236.06,-1183.8 1236.06,-1214.6 1865.55,-1214.6 1865.55,-1183.8 1236.06,-1183.8"/>
<text text-anchor="start" x="1243.06" y="-1196" font-family="Arial" font-size="14.00">last_remembered_at </text>
<text text-anchor="start" x="1375.35" y="-1196" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1541.08" y="-1196" font-family="Arial" font-size="14.00"> When this robot last tried to remember this content</text>
<polygon fill="none" stroke="black" points="1236.06,-1153 1236.06,-1183.8 1865.55,-1183.8 1865.55,-1153 1236.06,-1153"/>
<text text-anchor="start" x="1243.06" y="-1165.2" font-family="Arial" font-size="14.00">node_id </text>
<text text-anchor="start" x="1296.78" y="-1165.2" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="1338.03" y="-1165.2" font-family="Arial" font-size="14.00"> ID of the node being remembered</text>
<polygon fill="none" stroke="black" points="1236.06,-1122.2 1236.06,-1153 1865.55,-1153 1865.55,-1122.2 1236.06,-1122.2"/>
<text text-anchor="start" x="1243.06" y="-1134.4" font-family="Arial" font-size="14.00">remember_count </text>
<text text-anchor="start" x="1352.78" y="-1134.4" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="1403.37" y="-1134.4" font-family="Arial" font-size="14.00"> Number of times this robot has tried to remember this content</text>
<polygon fill="none" stroke="black" points="1236.06,-1091.4 1236.06,-1122.2 1865.55,-1122.2 1865.55,-1091.4 1236.06,-1091.4"/>
<text text-anchor="start" x="1243.06" y="-1103.6" font-family="Arial" font-size="14.00">robot_id </text>
<text text-anchor="start" x="1297.54" y="-1103.6" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="1338.79" y="-1103.6" font-family="Arial" font-size="14.00"> ID of the robot that remembered this node</text>
<polygon fill="none" stroke="black" points="1236.06,-1060.6 1236.06,-1091.4 1865.55,-1091.4 1865.55,-1060.6 1236.06,-1060.6"/>
<text text-anchor="start" x="1243.06" y="-1072.8" font-family="Arial" font-size="14.00">updated_at </text>
<text text-anchor="start" x="1317.02" y="-1072.8" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<polygon fill="none" stroke="black" stroke-width="3" points="1234.56,-1059.1 1234.56,-1354.5 1867.05,-1354.5 1867.05,-1059.1 1234.56,-1059.1"/>
</g>
<!-- public.nodes -->
<g id="node2" class="node">
<title>public.nodes</title>
<polygon fill="#efefef" stroke="none" points="537.79,-889.2 537.79,-935.2 1193.83,-935.2 1193.83,-889.2 537.79,-889.2"/>
<polygon fill="none" stroke="black" points="537.79,-889.2 537.79,-935.2 1193.83,-935.2 1193.83,-889.2 537.79,-889.2"/>
<text text-anchor="start" x="757.82" y="-913" font-family="Arial Bold" font-size="18.00">public.nodes</text>
<text text-anchor="start" x="849.3" y="-913" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="880.42" y="-913" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="674.38" y="-898.6" font-family="Arial" font-size="14.00" fill="#333333">Core memory storage for conversation messages and context</text>
<polygon fill="none" stroke="black" points="537.79,-858.4 537.79,-889.2 1193.83,-889.2 1193.83,-858.4 537.79,-858.4"/>
<text text-anchor="start" x="544.79" y="-870.6" font-family="Arial" font-size="14.00">access_count </text>
<text text-anchor="start" x="634.28" y="-870.6" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="684.87" y="-870.6" font-family="Arial" font-size="14.00"> Number of times this node has been accessed/retrieved</text>
<polygon fill="none" stroke="black" points="537.79,-827.6 537.79,-858.4 1193.83,-858.4 1193.83,-827.6 537.79,-827.6"/>
<text text-anchor="start" x="544.79" y="-839.8" font-family="Arial" font-size="14.00">chunk_position </text>
<text text-anchor="start" x="642.08" y="-839.8" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="692.66" y="-839.8" font-family="Arial" font-size="14.00"> Position within source file (0&#45;indexed)</text>
<polygon fill="none" stroke="black" points="537.79,-796.8 537.79,-827.6 1193.83,-827.6 1193.83,-796.8 537.79,-796.8"/>
<text text-anchor="start" x="544.79" y="-809" font-family="Arial" font-size="14.00">content </text>
<text text-anchor="start" x="594.6" y="-809" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="624.95" y="-809" font-family="Arial" font-size="14.00"> The conversation message/utterance content</text>
<polygon fill="none" stroke="black" points="537.79,-766 537.79,-796.8 1193.83,-796.8 1193.83,-766 537.79,-766"/>
<text text-anchor="start" x="544.79" y="-778.2" font-family="Arial" font-size="14.00">content_hash </text>
<text text-anchor="start" x="632.74" y="-778.2" font-family="Arial" font-size="14.00" fill="#666666">[varchar(64)]</text>
<text text-anchor="start" x="712.1" y="-778.2" font-family="Arial" font-size="14.00"> SHA&#45;256 hash of content for deduplication</text>
<polygon fill="none" stroke="black" points="537.79,-735.2 537.79,-766 1193.83,-766 1193.83,-735.2 537.79,-735.2"/>
<text text-anchor="start" x="544.79" y="-747.4" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="614.83" y="-747.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="780.56" y="-747.4" font-family="Arial" font-size="14.00"> When this memory was created</text>
<polygon fill="none" stroke="black" points="537.79,-704.4 537.79,-735.2 1193.83,-735.2 1193.83,-704.4 537.79,-704.4"/>
<text text-anchor="start" x="544.79" y="-716.6" font-family="Arial" font-size="14.00">deleted_at </text>
<text text-anchor="start" x="614.07" y="-716.6" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="779.79" y="-716.6" font-family="Arial" font-size="14.00"> Soft delete timestamp &#45; node is considered deleted when set</text>
<polygon fill="none" stroke="black" points="537.79,-673.6 537.79,-704.4 1193.83,-704.4 1193.83,-673.6 537.79,-673.6"/>
<text text-anchor="start" x="544.79" y="-685.8" font-family="Arial" font-size="14.00">embedding </text>
<text text-anchor="start" x="617.95" y="-685.8" font-family="Arial" font-size="14.00" fill="#666666">[vector(2000)]</text>
<text text-anchor="start" x="704.32" y="-685.8" font-family="Arial" font-size="14.00"> Vector embedding (max 2000 dimensions) for semantic search</text>
<polygon fill="none" stroke="black" points="537.79,-642.8 537.79,-673.6 1193.83,-673.6 1193.83,-642.8 537.79,-642.8"/>
<text text-anchor="start" x="544.79" y="-655" font-family="Arial" font-size="14.00">embedding_dimension </text>
<text text-anchor="start" x="689.55" y="-655" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="740.14" y="-655" font-family="Arial" font-size="14.00"> Actual number of dimensions used in the embedding vector (max 2000)</text>
<polygon fill="none" stroke="black" points="537.79,-612 537.79,-642.8 1193.83,-642.8 1193.83,-612 537.79,-612"/>
<text text-anchor="start" x="544.79" y="-624.2" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="559.57" y="-624.2" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="537.79,-581.2 537.79,-612 1193.83,-612 1193.83,-581.2 537.79,-581.2"/>
<text text-anchor="start" x="544.79" y="-593.4" font-family="Arial" font-size="14.00">last_accessed </text>
<text text-anchor="start" x="637.39" y="-593.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="803.12" y="-593.4" font-family="Arial" font-size="14.00"> When this memory was last accessed</text>
<polygon fill="none" stroke="black" points="537.79,-550.4 537.79,-581.2 1193.83,-581.2 1193.83,-550.4 537.79,-550.4"/>
<text text-anchor="start" x="544.79" y="-562.6" font-family="Arial" font-size="14.00">source_id </text>
<text text-anchor="start" x="609.38" y="-562.6" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="650.63" y="-562.6" font-family="Arial" font-size="14.00"> Reference to source file (for file&#45;loaded nodes)</text>
<polygon fill="none" stroke="black" points="537.79,-519.6 537.79,-550.4 1193.83,-550.4 1193.83,-519.6 537.79,-519.6"/>
<text text-anchor="start" x="544.79" y="-531.8" font-family="Arial" font-size="14.00">token_count </text>
<text text-anchor="start" x="624.96" y="-531.8" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="675.54" y="-531.8" font-family="Arial" font-size="14.00"> Number of tokens in the content (for context budget management)</text>
<polygon fill="none" stroke="black" points="537.79,-488.8 537.79,-519.6 1193.83,-519.6 1193.83,-488.8 537.79,-488.8"/>
<text text-anchor="start" x="544.79" y="-501" font-family="Arial" font-size="14.00">updated_at </text>
<text text-anchor="start" x="618.74" y="-501" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="784.47" y="-501" font-family="Arial" font-size="14.00"> When this memory was last modified</text>
</g>
<!-- public.robot_nodes&#45;&gt;public.nodes -->
<g id="edge1" class="edge">
<title>public.robot_nodes:node_id&#45;&gt;public.nodes:id</title>
<path fill="none" stroke="black" d="M1224.98,-1166.94C1126.38,-1136.14 1311.73,-627.4 1194.83,-627.4"/>
<polygon fill="black" stroke="black" points="1224.83,-1166.92 1234.09,-1172.81 1230.11,-1167.68 1234.4,-1168.3 1234.4,-1168.3 1234.4,-1168.3 1230.11,-1167.68 1235.38,-1163.9 1224.83,-1166.92"/>
<text text-anchor="start" x="976.9" y="-1152.4" font-family="Arial" font-size="10.00">FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE</text>
</g>
<!-- public.robots -->
<g id="node6" class="node">
<title>public.robots</title>
<polygon fill="#efefef" stroke="none" points="1298.7,-750.6 1298.7,-796.6 1802.91,-796.6 1802.91,-750.6 1298.7,-750.6"/>
<polygon fill="none" stroke="black" points="1298.7,-750.6 1298.7,-796.6 1802.91,-796.6 1802.91,-750.6 1298.7,-750.6"/>
<text text-anchor="start" x="1441.32" y="-774.4" font-family="Arial Bold" font-size="18.00">public.robots</text>
<text text-anchor="start" x="1535.81" y="-774.4" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="1566.92" y="-774.4" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="1399.87" y="-760" font-family="Arial" font-size="14.00" fill="#333333">Registry of all LLM robots using the HTM system</text>
<polygon fill="none" stroke="black" points="1298.7,-719.8 1298.7,-750.6 1802.91,-750.6 1802.91,-719.8 1298.7,-719.8"/>
<text text-anchor="start" x="1305.7" y="-732" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="1375.75" y="-732" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1541.47" y="-732" font-family="Arial" font-size="14.00"> When the robot was first registered</text>
<polygon fill="none" stroke="black" points="1298.7,-689 1298.7,-719.8 1802.91,-719.8 1802.91,-689 1298.7,-689"/>
<text text-anchor="start" x="1305.7" y="-701.2" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="1320.49" y="-701.2" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="1298.7,-658.2 1298.7,-689 1802.91,-689 1802.91,-658.2 1298.7,-658.2"/>
<text text-anchor="start" x="1305.7" y="-670.4" font-family="Arial" font-size="14.00">last_active </text>
<text text-anchor="start" x="1375.73" y="-670.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="1541.46" y="-670.4" font-family="Arial" font-size="14.00"> Last time the robot accessed the system</text>
<polygon fill="none" stroke="black" points="1298.7,-627.4 1298.7,-658.2 1802.91,-658.2 1802.91,-627.4 1298.7,-627.4"/>
<text text-anchor="start" x="1305.7" y="-639.6" font-family="Arial" font-size="14.00">name </text>
<text text-anchor="start" x="1344.61" y="-639.6" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="1374.95" y="-639.6" font-family="Arial" font-size="14.00"> Human&#45;readable name for the robot</text>
</g>
<!-- public.robot_nodes&#45;&gt;public.robots -->
<g id="edge5" class="edge">
<title>public.robot_nodes:robot_id&#45;&gt;public.robots:id</title>
<path fill="none" stroke="black" d="M1876.46,-1105.01C1952.11,-1075.98 1890.88,-704.4 1803.91,-704.4"/>
<polygon fill="black" stroke="black" points="1876.72,-1104.96 1866.08,-1102.31 1871.47,-1105.91 1867.21,-1106.68 1867.21,-1106.68 1867.21,-1106.68 1871.47,-1105.91 1867.68,-1111.17 1876.72,-1104.96"/>
<text text-anchor="start" x="1873.55" y="-1116.8" font-family="Arial" font-size="10.00">FOREIGN KEY (robot_id) REFERENCES robots(id) ON DELETE CASCADE</text>
</g>
<!-- public.file_sources -->
<g id="node5" class="node">
<title>public.file_sources</title>
<polygon fill="#efefef" stroke="none" points="619.93,-320.4 619.93,-366.4 1111.68,-366.4 1111.68,-320.4 619.93,-320.4"/>
<polygon fill="none" stroke="black" points="619.93,-320.4 619.93,-366.4 1111.68,-366.4 1111.68,-320.4 619.93,-320.4"/>
<text text-anchor="start" x="735.33" y="-344.2" font-family="Arial Bold" font-size="18.00">public.file_sources</text>
<text text-anchor="start" x="871.79" y="-344.2" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="902.91" y="-344.2" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="732.34" y="-329.8" font-family="Arial" font-size="14.00" fill="#333333">Source file metadata for loaded documents</text>
<polygon fill="none" stroke="black" points="619.93,-289.6 619.93,-320.4 1111.68,-320.4 1111.68,-289.6 619.93,-289.6"/>
<text text-anchor="start" x="626.93" y="-301.8" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="696.98" y="-301.8" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<polygon fill="none" stroke="black" points="619.93,-258.8 619.93,-289.6 1111.68,-289.6 1111.68,-258.8 619.93,-258.8"/>
<text text-anchor="start" x="626.93" y="-271" font-family="Arial" font-size="14.00">file_hash </text>
<text text-anchor="start" x="686.87" y="-271" font-family="Arial" font-size="14.00" fill="#666666">[varchar(64)]</text>
<text text-anchor="start" x="766.22" y="-271" font-family="Arial" font-size="14.00"> SHA&#45;256 hash of file content</text>
<polygon fill="none" stroke="black" points="619.93,-228 619.93,-258.8 1111.68,-258.8 1111.68,-228 619.93,-228"/>
<text text-anchor="start" x="626.93" y="-240.2" font-family="Arial" font-size="14.00">file_path </text>
<text text-anchor="start" x="683.75" y="-240.2" font-family="Arial" font-size="14.00" fill="#666666">[text]</text>
<text text-anchor="start" x="714.1" y="-240.2" font-family="Arial" font-size="14.00"> Absolute path to source file</text>
<polygon fill="none" stroke="black" points="619.93,-197.2 619.93,-228 1111.68,-228 1111.68,-197.2 619.93,-197.2"/>
<text text-anchor="start" x="626.93" y="-209.4" font-family="Arial" font-size="14.00">file_size </text>
<text text-anchor="start" x="681.4" y="-209.4" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="731.99" y="-209.4" font-family="Arial" font-size="14.00"> File size in bytes</text>
<polygon fill="none" stroke="black" points="619.93,-166.4 619.93,-197.2 1111.68,-197.2 1111.68,-166.4 619.93,-166.4"/>
<text text-anchor="start" x="626.93" y="-178.6" font-family="Arial" font-size="14.00">frontmatter </text>
<text text-anchor="start" x="698.51" y="-178.6" font-family="Arial" font-size="14.00" fill="#666666">[jsonb]</text>
<text text-anchor="start" x="739.76" y="-178.6" font-family="Arial" font-size="14.00"> Parsed YAML frontmatter</text>
<polygon fill="none" stroke="black" points="619.93,-135.6 619.93,-166.4 1111.68,-166.4 1111.68,-135.6 619.93,-135.6"/>
<text text-anchor="start" x="626.93" y="-147.8" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="641.72" y="-147.8" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="619.93,-104.8 619.93,-135.6 1111.68,-135.6 1111.68,-104.8 619.93,-104.8"/>
<text text-anchor="start" x="626.93" y="-117" font-family="Arial" font-size="14.00">last_synced_at </text>
<text text-anchor="start" x="724.22" y="-117" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="889.94" y="-117" font-family="Arial" font-size="14.00"> When file was last synced to HTM</text>
<polygon fill="none" stroke="black" points="619.93,-74 619.93,-104.8 1111.68,-104.8 1111.68,-74 619.93,-74"/>
<text text-anchor="start" x="626.93" y="-86.2" font-family="Arial" font-size="14.00">mtime </text>
<text text-anchor="start" x="668.93" y="-86.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="834.66" y="-86.2" font-family="Arial" font-size="14.00"> File modification time</text>
<polygon fill="none" stroke="black" points="619.93,-43.2 619.93,-74 1111.68,-74 1111.68,-43.2 619.93,-43.2"/>
<text text-anchor="start" x="626.93" y="-55.4" font-family="Arial" font-size="14.00">updated_at </text>
<text text-anchor="start" x="700.89" y="-55.4" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
</g>
<!-- public.nodes&#45;&gt;public.file_sources -->
<g id="edge4" class="edge">
<title>public.nodes:source_id&#45;&gt;public.file_sources:id</title>
<path fill="none" stroke="black" d="M1205.04,-563.95C1282.36,-534.03 1202.97,-151 1112.68,-151"/>
<polygon fill="black" stroke="black" points="1204.99,-563.96 1194.35,-561.31 1199.75,-564.91 1195.48,-565.68 1195.48,-565.68 1195.48,-565.68 1199.75,-564.91 1195.96,-570.17 1204.99,-563.96"/>
<text text-anchor="start" x="1201.83" y="-549.8" font-family="Arial" font-size="10.00">FOREIGN KEY (source_id) REFERENCES file_sources(id) ON DELETE SET NULL</text>
</g>
<!-- public.node_tags -->
<g id="node3" class="node">
<title>public.node_tags</title>
<polygon fill="#efefef" stroke="none" points="43.2,-1245.4 43.2,-1291.4 512.41,-1291.4 512.41,-1245.4 43.2,-1245.4"/>
<polygon fill="none" stroke="black" points="43.2,-1245.4 43.2,-1291.4 512.41,-1291.4 512.41,-1245.4 43.2,-1245.4"/>
<text text-anchor="start" x="154.32" y="-1269.2" font-family="Arial Bold" font-size="18.00">public.node_tags</text>
<text text-anchor="start" x="276.8" y="-1269.2" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="307.92" y="-1269.2" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="116.72" y="-1254.8" font-family="Arial" font-size="14.00" fill="#333333">Join table connecting nodes to tags (many&#45;to&#45;many)</text>
<polygon fill="none" stroke="black" points="43.2,-1214.6 43.2,-1245.4 512.41,-1245.4 512.41,-1214.6 43.2,-1214.6"/>
<text text-anchor="start" x="50.2" y="-1226.8" font-family="Arial" font-size="14.00">created_at </text>
<text text-anchor="start" x="120.25" y="-1226.8" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="285.97" y="-1226.8" font-family="Arial" font-size="14.00"> When this association was created</text>
<polygon fill="none" stroke="black" points="43.2,-1183.8 43.2,-1214.6 512.41,-1214.6 512.41,-1183.8 43.2,-1183.8"/>
<text text-anchor="start" x="50.2" y="-1196" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="64.99" y="-1196" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="43.2,-1153 43.2,-1183.8 512.41,-1183.8 512.41,-1153 43.2,-1153"/>
<text text-anchor="start" x="50.2" y="-1165.2" font-family="Arial" font-size="14.00">node_id </text>
<text text-anchor="start" x="103.92" y="-1165.2" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="145.16" y="-1165.2" font-family="Arial" font-size="14.00"> ID of the node being tagged</text>
<polygon fill="none" stroke="black" points="43.2,-1122.2 43.2,-1153 512.41,-1153 512.41,-1122.2 43.2,-1122.2"/>
<text text-anchor="start" x="50.2" y="-1134.4" font-family="Arial" font-size="14.00">tag_id </text>
<text text-anchor="start" x="92.23" y="-1134.4" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="133.48" y="-1134.4" font-family="Arial" font-size="14.00"> ID of the tag being applied</text>
</g>
<!-- public.node_tags&#45;&gt;public.nodes -->
<g id="edge2" class="edge">
<title>public.node_tags:node_id&#45;&gt;public.nodes:id</title>
<path fill="none" stroke="black" d="M522.18,-1163.39C563.1,-1108.85 480.03,-627.4 536.79,-627.4"/>
<polygon fill="black" stroke="black" points="522.38,-1163.27 511.47,-1164.33 517.75,-1165.92 513.99,-1168.07 513.99,-1168.07 513.99,-1168.07 517.75,-1165.92 515.93,-1172.14 522.38,-1163.27"/>
<text text-anchor="start" x="343.64" y="-1152.4" font-family="Arial" font-size="10.00">FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE</text>
</g>
<!-- public.working_memories -->
<g id="node4" class="node">
<title>public.working_memories</title>
<polygon fill="#efefef" stroke="none" points="617.18,-1260.8 617.18,-1306.8 1128.43,-1306.8 1128.43,-1260.8 617.18,-1260.8"/>
<polygon fill="none" stroke="black" points="617.18,-1260.8 617.18,-1306.8 1128.43,-1306.8 1128.43,-1260.8 617.18,-1260.8"/>
<text text-anchor="start" x="715.83" y="-1284.6" font-family="Arial Bold" font-size="18.00">public.working_memories</text>
<text text-anchor="start" x="905.29" y="-1284.6" font-family="Arial" font-size="14.00">    </text>
<text text-anchor="start" x="936.41" y="-1284.6" font-family="Arial" font-size="14.00" fill="#666666">[BASE TABLE]</text>
<text text-anchor="start" x="704.35" y="-1270.2" font-family="Arial" font-size="14.00" fill="#333333">Per&#45;robot working memory state (optional persistence)</text>
<polygon fill="none" stroke="black" points="617.18,-1230 617.18,-1260.8 1128.43,-1260.8 1128.43,-1230 617.18,-1230"/>
<text text-anchor="start" x="624.18" y="-1242.2" font-family="Arial" font-size="14.00">added_at </text>
<text text-anchor="start" x="686.46" y="-1242.2" font-family="Arial" font-size="14.00" fill="#666666">[timestamp with time zone]</text>
<text text-anchor="start" x="852.19" y="-1242.2" font-family="Arial" font-size="14.00"> When node was added to working memory</text>
<polygon fill="none" stroke="black" points="617.18,-1199.2 617.18,-1230 1128.43,-1230 1128.43,-1199.2 617.18,-1199.2"/>
<text text-anchor="start" x="624.18" y="-1211.4" font-family="Arial" font-size="14.00">id </text>
<text text-anchor="start" x="638.97" y="-1211.4" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<polygon fill="none" stroke="black" points="617.18,-1168.4 617.18,-1199.2 1128.43,-1199.2 1128.43,-1168.4 617.18,-1168.4"/>
<text text-anchor="start" x="624.18" y="-1180.6" font-family="Arial" font-size="14.00">node_id </text>
<text text-anchor="start" x="677.9" y="-1180.6" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="719.14" y="-1180.6" font-family="Arial" font-size="14.00"> Node currently in working memory</text>
<polygon fill="none" stroke="black" points="617.18,-1137.6 617.18,-1168.4 1128.43,-1168.4 1128.43,-1137.6 617.18,-1137.6"/>
<text text-anchor="start" x="624.18" y="-1149.8" font-family="Arial" font-size="14.00">robot_id </text>
<text text-anchor="start" x="678.66" y="-1149.8" font-family="Arial" font-size="14.00" fill="#666666">[bigint]</text>
<text text-anchor="start" x="719.91" y="-1149.8" font-family="Arial" font-size="14.00"> Robot whose working memory this belongs to</text>
<polygon fill="none" stroke="black" points="617.18,-1106.8 617.18,-1137.6 1128.43,-1137.6 1128.43,-1106.8 617.18,-1106.8"/>
<text text-anchor="start" x="624.18" y="-1119" font-family="Arial" font-size="14.00">token_count </text>
<text text-anchor="start" x="704.35" y="-1119" font-family="Arial" font-size="14.00" fill="#666666">[integer]</text>
<text text-anchor="start" x="754.94" y="-1119" font-family="Arial" font-size="14.00"> Cached token count for budget tracking</text>
</g>
<!-- public.working_memories&#45;&gt;public.nodes -->
<g id="edge3" class="edge">
<title>public.working_memories:node_id&#45;&gt;public.nodes:id</title>
<path fill="none" stroke="black" d="M605.97,-1182.66C565.55,-1172.76 584.57,-1101.06 617.18,-1063.6 787.27,-868.18 1024.27,-1174.28 1193.83,-978.4 1244.87,-919.42 1272.83,-627.4 1194.83,-627.4"/>
<polygon fill="black" stroke="black" points="605.91,-1182.65 615.35,-1188.23 611.21,-1183.24 615.51,-1183.73 615.51,-1183.73 615.51,-1183.73 611.21,-1183.24 616.35,-1179.29 605.91,-1182.65"/>
<text text-anchor="start" x="269.63" y="-1193.8" font-family="Arial" font-size="10.00">FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE</text>
</g>
<!-- public.working_memories&#45;&gt;public.robots -->
<g id="edge6" class="edge">
<title>public.working_memories:robot_id&#45;&gt;public.robots:id</title>
<path fill="none" stroke="black" d="M1139.76,-1152.11C1188.77,-1142.73 1140.49,-1061.3 1180.81,-1014.4 1202.33,-989.36 1226.45,-1005.16 1245.81,-978.4 1282.12,-928.18 1235.73,-704.4 1297.7,-704.4"/>
<polygon fill="black" stroke="black" points="1139.73,-1152.11 1129.38,-1148.49 1134.41,-1152.57 1130.1,-1152.94 1130.1,-1152.94 1130.1,-1152.94 1134.41,-1152.57 1130.15,-1157.45 1139.73,-1152.11"/>
<text text-anchor="start" x="781.79" y="-1163" font-family="Arial" font-size="10.00">FOREIGN KEY (robot_id) REFERENCES robots(id) ON DELETE CASCADE</text>
</g>
</g>
</svg>
